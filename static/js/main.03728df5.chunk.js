(this.webpackJsonpbpimanager=this.webpackJsonpbpimanager||[]).push([[0],{373:function(e,t,a){e.exports=a(614)},378:function(e,t,a){},379:function(e,t,a){},614:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=(a(378),a(379),a(10)),i=a(9),c=a(13),s=a(14),u=a(15),m=a(74),d=a(658),p=a(659),h=a(62),g=a(331),f=a(300),v=a.n(f),E=a(657),b=a(664),y=a(661),S=a(663),w=a(667),D=a(616),x=a(665),k=a(666),C=a(301),O=a.n(C),P=a(303),I=a.n(P),B=a(306),A=a.n(B),j=a(307),N=a.n(j),L=a(302),T=a.n(L),H=a(304),M=a.n(H),R=a(165),F=a.n(R),G=a(305),U=a.n(G),V=a(308),W=a.n(V),Y=a(660),X=a(615),_=a(3),q=a(4),K=a(655),z=a(295),J=a.n(z),Z=a(296),Q=a.n(Z),$=a(297),ee=a.n($),te=a(652),ae=a(653),ne=a(704),re=a(654),le=a(161),oe=a.n(le),ie=a(298),ce={success:J.a,warning:oe.a,error:Q.a,info:ee.a},se=Object(ie.a)((function(e){return{success:{backgroundColor:te.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:ae.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ue(e){var t=se(),a=e.className,n=e.message,l=e.onClose,o=e.variant,i=Object(_.a)(e,["className","message","onClose","variant"]),c=ce[o];return r.a.createElement(re.a,Object.assign({className:Object(q.a)(t[o],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(c,{className:Object(q.a)(t.icon,t.iconVariant)}),n),action:[r.a.createElement(K.a,{onClick:l,color:"inherit",size:"small",key:"ok"},"Ok")]},i))}function me(e){return e.open?r.a.createElement("div",null,r.a.createElement(ne.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:e.autoHideDuration?e.autoHideDuration:2e3,onClose:e.handleClose},r.a.createElement(ue,{onClose:e.handleClose,variant:e.variant,message:e.message}))):null}function de(e){var t=e.children,a=e.window,n=Object(E.a)({target:a?a():void 0});return r.a.createElement(X.a,{appear:!1,direction:"down",in:!n},t)}var pe=r.a.forwardRef((function(e,t){return r.a.createElement(m.b,Object.assign({innerRef:t},e))})),he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).toggleNav=function(){return a.setState({isOpen:!a.state.isOpen})},a.toggleErrorSnack=function(){return a.setState({errorSnack:!a.state.errorSnack})},a.state={isOpen:!1,errorSnack:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.isOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,this.props,r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return e.props.global.state.cannotMove?e.toggleErrorSnack():e.toggleNav()}},r.a.createElement(v.a,null)),r.a.createElement(h.a,{variant:"h6"},r.a.createElement(Y.a,{id:"Top.Title"}))))),r.a.createElement(p.a,null),r.a.createElement(y.a,{open:t,onClose:this.toggleNav},r.a.createElement(S.a,{style:{width:"230px"}},r.a.createElement(b.a,{component:pe,to:"/",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(O.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.Home"})}))),r.a.createElement(b.a,{component:pe,to:"/data",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(T.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.Data"})}))),r.a.createElement(b.a,{component:pe,to:"/favorite",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(F.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.FavoriteSongs"})}))),r.a.createElement(b.a,{component:pe,to:"/songs",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(I.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.SongList"})}))),r.a.createElement(b.a,{component:pe,to:"/notPlayed",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(M.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.unregisteredSongs"})}))),r.a.createElement(b.a,{component:pe,to:"/compare",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(U.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.compare"})}))),r.a.createElement(b.a,{component:pe,to:"/stats",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(A.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.Statistics"})}))),r.a.createElement(b.a,{component:pe,to:"/settings",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(N.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.Settings"})}))),r.a.createElement(b.a,{component:pe,to:"/help",underline:"none",color:"textPrimary",onClick:this.toggleNav},r.a.createElement(D.a,{button:!0},r.a.createElement(x.a,null,r.a.createElement(W.a,null)),r.a.createElement(k.a,{primary:r.a.createElement(Y.a,{id:"GlobalNav.Help"})})))),r.a.createElement(w.a,null)),r.a.createElement(me,{message:"\u5b9f\u884c\u4e2d\u306e\u51e6\u7406\u304c\u3042\u308b\u305f\u3081\u7d9a\u884c\u3067\u304d\u307e\u305b\u3093",variant:"warning",handleClose:this.toggleErrorSnack,open:this.state.errorSnack,autoHideDuration:3e3}))}}]),t}(r.a.Component),ge=a(696),fe=a(668),ve=a(669),Ee=a(613),be=Ee.LineShareButton,ye=Ee.LineIcon,Se=Ee.TwitterShareButton,we=Ee.TwitterIcon,De=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.createElement("div",{className:"heroLayout"},n.createElement(fe.a,{fixed:!0},n.createElement(h.a,{component:"h3",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Top.Title"})),n.createElement(h.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},n.createElement(Y.a,{id:"Index.heroText"})),n.createElement(h.a,{align:"center",color:"textSecondary",paragraph:!0},"\u30db\u30fc\u30e0\u753b\u9762/\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306b\u8ffd\u52a0\u3057\u3066\u304a\u4f7f\u3044\u304f\u3060\u3055\u3044"),n.createElement("div",null,n.createElement(ve.a,{container:!0,spacing:2,justify:"center"},n.createElement(ve.a,{item:!0},n.createElement(m.b,{to:"/data",style:{textDecoration:"none"}},n.createElement(K.a,{variant:"contained",color:"primary"},n.createElement(Y.a,{id:"Index.importButton"})))),n.createElement(ve.a,{item:!0},n.createElement(m.b,{to:"/help",style:{textDecoration:"none"}},n.createElement(K.a,{variant:"contained",color:"secondary"},n.createElement(Y.a,{id:"Index.helpButton"})))))),n.createElement("div",{style:{marginTop:"10px"}},n.createElement(h.a,{align:"center",color:"textSecondary",variant:"caption",paragraph:!0},"\u6c17\u306b\u5165\u3063\u305f\u3089\u30b7\u30a7\u30a2\u304a\u9858\u3044\u3057\u307e\u3059!"),n.createElement(ve.a,{container:!0,spacing:1,justify:"center"},n.createElement(ve.a,{item:!0,xs:2},n.createElement(be,{url:"https://bpi.poyashi.me"},n.createElement(ye,{size:32,round:!0}))),n.createElement(ve.a,{item:!0,xs:2},n.createElement(Se,{url:"https://bpi.poyashi.me",title:"BPIManager\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059:"},n.createElement(we,{size:32,round:!0}))))),n.createElement("div",{style:{marginTop:"15px"}},n.createElement(ve.a,{container:!0,spacing:2,justify:"center"},n.createElement(ve.a,{item:!0},n.createElement(h.a,{align:"center",color:"textSecondary",variant:"caption",paragraph:!0},"If you're not familiar with Japanese, please go firstly to settings and you can change language there."),n.createElement(h.a,{align:"center",color:"textSecondary",paragraph:!0,variant:"caption"},n.createElement(Y.a,{id:"Index.notes1"})),n.createElement(h.a,{align:"center",color:"textSecondary",paragraph:!0,variant:"caption"},n.createElement(Y.a,{id:"Index.notes2"})),n.createElement(h.a,{align:"center",color:"textSecondary",paragraph:!0,variant:"caption"},"BPIManager beta ver0.0.0.3",n.createElement("br",null),"If you have encountered unintended behaviours or have opinions to make this tool much better, please contact ",n.createElement(b.a,{color:"secondary",href:"https://twitter.com/BPIManager"},"@BPIManager"),"."))))))}}]),t}(n.Component),xe=a(6),ke=a.n(xe),Ce=a(11),Oe=a(27),Pe=a(310),Ie=a(40),Be=a.n(Ie),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=Be()(t);switch(e){case 0:return a.format("YYYY-MM-DD HH:mm");case 1:return a.format("YYYYMMDD");case 2:return a.format("HHmmss");case 3:return a.format("YYYY-MM-DD HH:mm:ss")}return""},je=function(){return localStorage.getItem("isSingle")&&"1"!==localStorage.getItem("isSingle")&&"true"!==localStorage.getItem("isSingle")?0:1},Ne=function(){return localStorage.getItem("currentStore")||"27"},Le=function(){return localStorage.getItem("lang")||"ja"},Te=function(){return localStorage.getItem("lastDefFileVer")||"undefined"},He=function(){return Number(localStorage.getItem("goalBPI"))||0},Me=function(){return Number(localStorage.getItem("goalPercentage"))||0},Re=function(){return localStorage.getItem("theme")||"light"},Fe=function(){return"dark"===Re()?"#eee":"#333"},Ge=["FAILED","ASSIST CLEAR","EASY CLEAR","CLEAR","HARD CLEAR","EX HARD CLEAR","FULLCOMBO CLEAR"],Ue=function(e,t){return 0===t?"string"!==typeof e?0:Ge.indexOf(e):"number"!==typeof e?1:Ge[e]},Ve=function(e){return"hyper"===e?"(H)":"leggendaria"===e?"(\u2020)":""},We=function(e){var t="";return"3"!==e&&"8"!==e||(t="(H)"),"10"!==e&&"11"!==e||(t="(\u2020)"),t},Ye=function(e){var t="another";return"3"!==e&&"8"!==e||(t="hyper"),"10"!==e&&"11"!==e||(t="leggendaria"),t},Xe=function(e,t){if("3"===t||"8"===t)return"[H]";if("4"===t||"9"===t)return"[A]";if("10"===t||"11"===t)switch(e){default:return"\u2020[A]";case"Ancient Scapes":case"Close the World feat.a\u2606ru":case"Feel The Beat":case"invoker":case"Sigmund":case"Verflucht":case"\u75be\u98a8\u8fc5\u96f7":return"\u2020LEGGENDARIA[A]"}return""},_e=function(e,t){var a=e,n=t;return"another"!==t?{name:a,difficulty:n}:(["ABSOLUTE\u2020","Clione\u2020","RED ZONE\u2020","spiral galaxy\u2020","Little Little Princess\u2020","CONTRACT\u2020","waxing and wanding\u2020","KAMAITACHI\u2020","VANESSA\u2020","Blue Rain\u2020","ICARUS\u2020","THE DEEP STRIKER\u2020","\xdcbertreffen\u2020","Kung-fu Empire\u2020","naughty girl@Queen's Palace\u2020","THANK YOU FOR PLAYING\u2020","\u51db\u3068\u3057\u3066\u54b2\u304f\u82b1\u306e\u5982\u304f\u2020","SOLID STATE SQUAD\u2020","Golden Palms\u2020","QUANTUM TELEPORTATION\u2020","Howling\u2020","LUV CAN SAVE U\u2020","\u6727\u2020","\u4eee\u60f3\u7a7a\u9593\u306e\u65c5\u4eba\u305f\u3061\u2020","\u9f8d\u3068\u5c11\u5973\u3068\u30c7\u30b3\u30d2\u30fc\u30ec\u30f3\u30b9\u2020","Ancient Scapes\u2020LEGGENDARIA","Close the World feat.a\u2606ru\u2020LEGGENDARIA","Feel The Beat\u2020LEGGENDARIA","invoker\u2020LEGGENDARIA","Sigmund\u2020LEGGENDARIA","Verflucht\u2020LEGGENDARIA","\u75be\u98a8\u8fc5\u96f7\u2020LEGGENDARIA","\u5eff\u2020","Beat Radiance\u2020","CHRONO DIVER -NORNIR-\u2020","Cosmic Cat\u2020","EBORY & IVORY\u2020","\u604b\u306f\u767d\u5e2f\u3001\u30b5\u30f3\u30b7\u30ed\u30fc\u2020","\u8d85\u9752\u5c11\u5e74\u30ce\u70ba\u30ce\u8d85\u591a\u5e78\u30ca\u8d85\u53e4\u5178\u7684\u8d85\u821e\u66f2\u2020","Damage Per Second\u2020","STARLIGHT DANCEHALL\u2020","Amazing Mirage\u2020","\u51ac\u693f ft. Kanae Asaba\u2020"].indexOf(e)>-1&&(a=e.replace("\u2020LEGGENDARIA","").replace("\u2020",""),n="leggendaria"),{name:a,difficulty:n})},qe=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(o.a)(this,e),this.songsDB=void 0,this.isSingle=void 0,this.propData=null,this.m=1,this.s=0,this.k=0,this.z=0,this.pgf=function(e){return e===t.m?t.m:1+(e/t.m-.5)/(1-e/t.m)},this.avg=0,this.wr=0,this._allTwelvesLength=0,this._allTwelvesBPI=[],this.isSingle=n,this.songsDB=a?null:new Ze}return Object(i.a)(e,[{key:"setPropData",value:function(e,t,a){return this.isSingle=a,this.s=t,this.k=e.avg,this.z=e.wr,this.m=2*e.notes,this.exec()}},{key:"calc",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t,a,n){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1!==this.isSingle){e.next=7;break}return e.next=4,this.songsDB.getOneItemIsSingle(t,a);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.songsDB.getOneItemIsDouble(t,a);case 9:e.t0=e.sent;case 10:if(this.propData=e.t0,this.propData&&this.propData[0]){e.next=13;break}throw new Error("\u697d\u66f2\u60c5\u5831\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f");case 13:return this.s=n,this.k=this.propData[0].avg,this.z=this.propData[0].wr,this.m=2*this.propData[0].notes,e.abrupt("return",{error:!1,bpi:this.exec(),difficultyLevel:this.propData[0].difficultyLevel});case 20:return e.prev=20,e.t1=e.catch(0),e.abrupt("return",{error:!0,bpi:NaN,reason:e.t1.message||e.t1});case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"exec",value:function(){var e=NaN,t=this.k,a=this.z,n=this.s;if(n>this.m)throw new Error("\u7406\u8ad6\u5024\u3092\u8d85\u3048\u3066\u3044\u307e\u3059");if(n<0)throw new Error("\u30b9\u30b3\u30a2\u306f\u81ea\u7136\u6570\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");var r=this.pgf(n),l=this.pgf(t),o=r/l,i=this.pgf(a)/l;return(e=n>=t?Math.pow(Math.log(o),1.5)/Math.pow(Math.log(i),1.5)*100:Math.pow(-Math.log(o),1.5)/Math.pow(Math.log(i),1.5)*-100)<-15?-15:Math.round(100*e)/100}},{key:"setData",value:function(e,t,a){this.m=e,this.avg=t,this.wr=a}},{key:"calcFromBPI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.pgf(this.wr),n=this.pgf(this.avg),r=Math.pow(Math.pow(Math.log(a/n),1.5)*e/100,1/1.5),l=Math.pow(Math.E,r)*n,o=this.m*((l-.5)/l);return t?Math.ceil(o):o}},{key:"rank",value:function(e){return Math.ceil(Math.pow(2645,(100-e)/100))}},{key:"totalBPI",value:function(){var e=0,t=this._allTwelvesBPI.length;if(0===t)return-15;for(var a=Math.log2(this._allTwelvesLength),n=0;n<this._allTwelvesLength;++n)if(n<t){var r=this._allTwelvesBPI[n];e+=r>0?Math.pow(r,a)/this._allTwelvesLength:-Math.pow(Math.abs(r),a)/this._allTwelvesLength}return Math.round(100*Math.pow(e,1/a))/100}},{key:"allTwelvesLength",set:function(e){this._allTwelvesLength=e}},{key:"allTwelvesBPI",set:function(e){this._allTwelvesBPI=e}}]),e}(),Ke=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this,"ScoreCoach"))).target="scores",e.scores=void 0,e.songs=void 0,e.stores=void 0,e.calculator=new qe(!0),e.newSongs={},e.version(1).stores({scores:"[title+difficulty+storedAt+isSingle],title,*difficulty,*difficultyLevel,*version,currentBPI,exScore,Pgreat,great,missCount,clearState,lastPlayed,storedAt,isSingle,isImported,updatedAt,lastScore",songs:"&++num,title,*difficulty,*difficultyLevel,wr,avg,notes,bpm,textage,dpLevel,isCreated,isFavorited,[title+difficulty]",stores:"&name,updatedAt",scoreHistory:"&++num,[title+storedAt+difficulty+isSingle],[title+storedAt+difficulty+isSingle+updatedAt],title,difficulty,difficultyLevel,storedAt,exScore,BPI,isSingle,updatedAt"}),e.scores=e.table("scores"),e.songs=e.table("songs"),e.stores=e.table("stores"),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setNewSongsDBRawData",value:function(e){return this.newSongs=e,this}},{key:"apply",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.calculator.setPropData(this.newSongs[e],t,a)}}]),t}(Pe.a),ze=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).scores=void 0,e.storedAt="",e.isSingle=1,e.scores=e.table("scores"),e.isSingle=a,n&&(e.storedAt=n),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setIsSingle",value:function(e){return this.isSingle=e,this}},{key:"setStoredAt",value:function(e){return this.storedAt=e,this}},{key:"getAll",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.scores.where({storedAt:Ne(),isSingle:je()}).toArray();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSpecificVersionAll",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.scores.where({storedAt:this.storedAt,isSingle:this.isSingle}).toArray();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scores.clear();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(e,t,a,n){return this.scores.where("[title+difficulty+storedAt+isSingle]").equals([e,t,a,n]).toArray()}},{key:"getAllTwelvesBPI",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t,a){var n,r,l=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:"12",e.prev=1,e.next=4,this.scores.where({storedAt:a,isSingle:t}).toArray();case 4:return r=(r=e.sent).filter((function(e){return e.difficultyLevel===n})),e.abrupt("return",r.map((function(e){return e.currentBPI})));case 9:return e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"resetItems",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scores.where({storedAt:t}).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetImportedItems",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scores.where({isImported:"true"}).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.scores.where("[title+difficulty+storedAt+isSingle]").equals([t.title,t.difficulty,this.storedAt,this.isSingle]).modify({title:t.title,version:t.version,difficulty:t.difficulty,difficultyLevel:t.difficultyLevel,currentBPI:t.currentBPI,exScore:Number(t.exScore),Pgreat:Number(t.Pgreat),great:Number(t.great),missCount:Number(t.missCount),clearState:t.clearState,lastPlayed:t.lastPlayed,lastScore:t.lastScore,storedAt:t.storedAt,isSingle:t.isSingle,isImported:!0,updatedAt:t.updatedAt});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"putItem",value:function(e){try{return this.scores.put({title:e.title,version:e.version,difficulty:e.difficulty,difficultyLevel:e.difficultyLevel,currentBPI:e.currentBPI,exScore:Number(e.exScore),Pgreat:Number(e.Pgreat),great:Number(e.great),missCount:Number(e.missCount),clearState:e.clearState,lastPlayed:e.lastPlayed,lastScore:e.lastScore,storedAt:e.storedAt,isSingle:e.isSingle,isImported:!0,updatedAt:e.updatedAt})}catch(t){console.error(t)}}},{key:"updateScore",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t,a){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",!1);case 3:if("-"!==t.updatedAt){e.next=12;break}return(n=t).currentBPI=a.currentBPI,n.exScore=a.exScore,n.updatedAt=Ae(0),e.next=10,this.scores.add(n);case 10:e.next=14;break;case 12:return e.next=14,this.scores.where("[title+difficulty+storedAt+isSingle]").equals([t.title,t.difficulty,t.storedAt,t.isSingle]).modify(Object.assign(a,{updatedAt:Ae(0),lastScore:t.exScore}));case 14:return e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t,a){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scores.where({title:t,storedAt:a}).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"recalculateBPI",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this,e.next=4,this.scores.toCollection().modify((function(e){"\u30e9\u30af\u30a8\u30f3"===e.title&&console.log(t.apply(e.title,e.exScore,e.isSingle)),e.currentBPI=t.apply(e.title,e.exScore,e.isSingle)}));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.error("failed recalculate - "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),t}(Ke),Je=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).scoreHistory=void 0,e.isSingle=1,e.currentStore="27",e.scoreHistory=e.table("scoreHistory"),e.isSingle=je(),e.currentStore=Ne(),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"add",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return!!e&&(this.scoreHistory.add({title:e.title,exScore:t.exScore,difficulty:e.difficulty,difficultyLevel:e.difficultyLevel,storedAt:e.storedAt,BPI:t.currentBPI,updatedAt:a?e.updatedAt:Ae(3),isSingle:e.isSingle}),!0)}catch(n){return console.error(n),!1}}},{key:"check",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.scoreHistory.where("[title+storedAt+difficulty+isSingle]").equals([t.title,t.storedAt,t.difficulty,t.isSingle]).toArray().then((function(e){return e.sort((function(e,t){return Be()(t.updatedAt).diff(Be()(e.updatedAt))}))}));case 3:return a=e.sent,e.abrupt("return",{willUpdate:0===a.length||Number(t.exScore)>Number(a[a.length-1].exScore),lastScore:0===a.length?-1:a[a.length-1].exScore});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{willUpdate:!1,lastScore:0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"12",e.prev=1,e.next=4,this.scoreHistory.where({storedAt:this.currentStore,isSingle:this.isSingle,difficultyLevel:t}).toArray();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.scoreHistory.where({storedAt:t||this.currentStore,isSingle:this.isSingle}).delete();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getWithinVersion",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,this.scoreHistory.where({storedAt:this.currentStore,isSingle:this.isSingle,title:t.title,difficulty:Ye(t.difficulty)}).toArray().then((function(e){return e.sort((function(e,t){return Be()(t.updatedAt).diff(Be()(e.updatedAt))}))}));case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAcrossVersion",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var a,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,this.scoreHistory.where({isSingle:this.isSingle,title:t.title,difficulty:Ye(t.difficulty)}).toArray().then((function(e){return e.reduce((function(e,t){return e[t.storedAt]||(e[t.storedAt]=[]),e[t.storedAt].push(t),e}),{})}));case 5:return a=e.sent,n=[],Object.keys(a).map((function(e){var t=a[e].sort((function(e,t){return t.exScore-e.exScore}));return n.push(t[0]),0})),e.abrupt("return",n.reverse());case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"recalculateBPI",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this,e.next=4,this.scoreHistory.toCollection().modify((function(e){e.BPI=t.apply(e.title,e.exScore,e.isSingle)}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),console.error("failed recalculate - "+e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),t}(Ke),Ze=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).songs=void 0,e.songs=e.table("songs"),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getAll",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]&&r[1],e.prev=2,n=1===t?this.songs.where("dpLevel").equals("0"):this.songs.where("dpLevel").notEqual("0"),!a){e.next=8;break}e.t0=n,e.next=11;break;case 8:return e.next=10,n.toArray();case 10:e.t0=e.sent;case 11:return e.abrupt("return",e.t0);case 14:return e.prev=14,e.t1=e.catch(2),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllWithAllPlayModes",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.songs.toCollection().toArray();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllTwelvesLength",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r,l=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:1,e.prev=1,1!==t){e.next=8;break}return e.next=5,this.songs.where("dpLevel").equals("0").toArray();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.songs.where("dpLevel").notEqual("0").toArray();case 10:e.t0=e.sent;case 11:for(a=e.t0,n=0,r=0;r<a.length;++r)"12"===a[r].difficultyLevel&&n++;return e.abrupt("return",n);case 17:return e.prev=17,e.t1=e.catch(1),console.error(e.t1),e.abrupt("return",0);case 21:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllFavoritedItems",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,this.getAll(t,!0).then((function(e){return e.and((function(e){return!0===e.isFavorited})).toArray()}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.songs.clear();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItem",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.songs.where({title:t}).toArray();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getOneItemIsSingle",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t,a){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){switch(a){case"hyper":return"3";case"another":return"4";case"leggendaria":return"10";default:return a}},e.prev=1,e.next=4,this.songs.where("[title+difficulty]").equals([t,n()]).toArray();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOneItemIsDouble",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t,a){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){switch(a){case"hyper":return"8";case"another":return"9";case"leggendaria":return"11";default:return a}},e.prev=1,e.next=4,this.songs.where("[title+difficulty]").equals([t,n()]).toArray();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setItem",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.songs.put({title:t.title,difficulty:t.difficulty,wr:Number(t.wr),avg:Number(t.avg),notes:Number(t.notes),bpm:t.bpm,textage:t.textage,difficultyLevel:t.difficultyLevel,dpLevel:t.dpLevel,isFavorited:t.isFavorited||!1,isCreated:t.isCreated||!1,updatedAt:t.updatedAt||Ae(0)});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.songs.where({title:t.title,difficulty:t.difficulty}).modify({wr:Number(t.wr),avg:Number(t.avg),updatedAt:Ae(0)});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleFavorite",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t,a,n){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.songs.where({title:t,difficulty:a}).modify({isFavorited:n});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.songs.where({title:t}).delete();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),t}(Ke),Qe=Ke,$e=a(700),et=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;Object(o.a)(this,e),this.rawData="",this.result=[],this.resultHistory=[],this.isSingle=1,this.currentStore="",this.rawData=t,this.isSingle=a,n&&(this.currentStore=n)}return Object(i.a)(e,[{key:"getResult",value:function(){return this.result}},{key:"getResultHistory",value:function(){return this.resultHistory}},{key:"execute",value:function(){var e=this,t=0;return new Promise((function(a,n){try{for(var r=e.rawData.split(/\r\n|\n/),l=r.length,o=[],i=[],c=0;c<l;++c){var s=[],u="",m=r[c].split(/,/);if(0===c&&"NORMAL \u96e3\u6613\u5ea6"===m[5]&&(t=1),0===t?(Number(m[19])>10&&Number(m[20])>0&&(u="hyper",s=[0,1,20,21,22,23,24,25,40]),Number(m[26])>10&&Number(m[27])>0&&(u="another",s=[0,1,27,28,29,30,31,32,40]),Number(m[33])>10&&Number(m[34])>0&&(u="leggendaria",s=[0,1,34,35,36,37,38,39,40])):(Number(m[12])>10&&Number(m[13])>0&&(u="hyper",s=[0,1,13,14,15,16,17,18,26]),Number(m[19])>10&&Number(m[20])>0&&(u="another",s=[0,1,20,21,22,23,24,25,26])),m[s[1]]){var d=1===t?_e(m[s[1]],u):{name:m[s[1]],difficulty:u},p=d.name,h=d.difficulty,g=Ue(m[s[6]],0);if("number"!==typeof g)throw new Error;1===t&&"\u708e\u5f71"===p&&(p="\u706b\u5f71"),1===t&&"Rave*it!! Rave*it!! "===p&&(p="Rave*it!! Rave*it!!"),o.push({title:p,version:m[s[0]],difficulty:h,currentBPI:0,difficultyLevel:"-",exScore:Number(m[s[2]]),Pgreat:Number(m[s[3]]),great:Number(m[s[4]]),missCount:Number(m[s[5]]),clearState:g,lastPlayed:m[s[8]],lastScore:-1,storedAt:e.currentStore,isSingle:e.isSingle,isImported:!0,updatedAt:m[s[8]]}),i.push({title:p,exScore:Number(m[s[2]]),difficulty:h,difficultyLevel:"-",storedAt:e.currentStore,isSingle:e.isSingle,BPI:0,updatedAt:m[s[8]]})}}return e.result=o,e.resultHistory=i,a(o.length)}catch(f){return console.log(f),n(f)}}))}}]),e}(),tt=a(674),at=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).onChangeText=function(e){return a.setState({raw:e.target.value})},a.handleClose=function(){return a.setState({isSnackbarOpen:!1})},a.state={raw:"",isSnackbarOpen:!1,stateText:"Data.Success",errors:[],isSaving:!1,currentState:"",progress:0},a.execute=a.execute.bind(Object(Oe.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"execute",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r,l,o,i,c,s,u,m,d,p,h;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("a"),this.props.global.setMove(!0),this.setState({isSaving:!0}),t=[],a=je(),n=Ne(),console.log(a),r=new et(this.state.raw,a,n),l=new qe(!1,a),e.next=12,r.execute();case 12:if(e.sent){e.next=15;break}throw new Error("CSV\u30c7\u30fc\u30bf\u306e\u5f62\u5f0f\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093");case 15:return o=r.getResult(),i=r.getResultHistory(),c=new ze(a,n),s=new Je,e.next=19,c.getAll().then((function(e){return e.reduce((function(e,t){return e[t.title]=t,e}),{})}));case 19:u=e.sent,m=o.length,d=0;case 22:if(!(d<m)){e.next=37;break}return e.next=25,l.calc(o[d].title,o[d].difficulty,o[d].exScore);case 25:if(!(p=e.sent).error||!p.reason){e.next=29;break}return t.push(o[d].title+" - "+p.reason),e.abrupt("continue",34);case 29:if(!(u[o[d].title]&&u[o[d].title].exScore>=o[d].exScore&&u[o[d].title].clearState===o[d].clearState)){e.next=31;break}return e.abrupt("continue",34);case 31:h=Object.assign(o[d],{difficultyLevel:p.difficultyLevel,currentBPI:p.bpi,isImported:!0,lastScore:u[o[d].title]?u[o[d].title].exScore:0}),u[o[d].title]&&u[o[d].isSingle]===a?c.setItem(h):c.putItem(h),s.add(Object.assign(i[d],{difficultyLevel:p.difficultyLevel}),{currentBPI:p.bpi,exScore:i[d].exScore},!0);case 34:++d,e.next=22;break;case 37:return this.props.global.setMove(!1),e.abrupt("return",this.setState({isSaving:!1,raw:"",isSnackbarOpen:!0,stateText:"Data.Success",errors:t}));case 41:return e.prev=41,e.t0=e.catch(0),console.log(e.t0),this.props.global.setMove(!1),e.abrupt("return",this.setState({isSaving:!1,isSnackbarOpen:!0,stateText:"Data.Failed",errors:[e.t0.message]}));case 46:case"end":return e.stop()}}),e,this,[[0,41]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.raw,a=e.isSnackbarOpen,r=e.stateText,l=e.errors,o=e.isSaving;return n.createElement(fe.a,{className:"commonLayout",fixed:!0},n.createElement(ne.a,{open:a,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:n.createElement("span",{id:"message-id"},n.createElement(Y.a,{id:r}))}),n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Data.add"})),n.createElement(Y.a,{id:"Data.infoBulk"}),n.createElement("br",null),n.createElement(Y.a,{id:"Data.howToBulk1"}),n.createElement(b.a,{color:"secondary",href:"https://p.eagate.573.jp/game/2dx/"+Ne()+"/djdata/score_download.html",target:"_blank",rel:"noopener noreferrer"},n.createElement(Y.a,{id:"Data.CSVURL"})),n.createElement(Y.a,{id:"Data.howToBulk2"}),n.createElement($e.a,{onChange:this.onChangeText,value:t,style:{width:"100%"},label:"Paste here",margin:"dense",variant:"outlined",multiline:!0,rowsMax:"4"}),n.createElement("div",{style:{position:"relative"}},n.createElement(K.a,{variant:"contained",color:"primary",onClick:this.execute,disabled:o,style:{width:"100%",margin:"5px 0"}},n.createElement(Y.a,{id:"Data.Execute"}),"(->","26"===(localStorage.getItem("currentStore")||"27")?"26 Rootage":"27 HEROIC VERSE","\xa0/\xa0",1===je()?"SP":"DP",")"),o&&n.createElement(tt.a,{size:24,style:{color:"#777",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),l&&l.map((function(e){return n.createElement("span",{key:e},e,n.createElement("br",null))})),n.createElement(w.a,{variant:"middle",style:{margin:"10px 0"}}),n.createElement(Y.a,{id:"Data.notPremium1"}),n.createElement(w.a,{variant:"middle",style:{margin:"10px 0"}}),n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Data.edit"})),n.createElement(Y.a,{id:"Data.howToEdit"}),n.createElement("ol",null,n.createElement("li",null,n.createElement(Y.a,{id:"Data.howToEdit1"})),n.createElement("li",null,n.createElement(Y.a,{id:"Data.howToEdit2"})),n.createElement("li",null,n.createElement(Y.a,{id:"Data.howToEdit3"}))))}}]),t}(n.Component),nt=a(617),rt=a(672),lt=a(684),ot=a(685),it=a(698),ct=a(175),st=a.n(ct),ut=a(683),mt=a(179),dt=a(675),pt=a(679),ht=a(678),gt=a(676),ft=a(702),vt=a(677),Et=a(681),bt=a(320),yt=a.n(bt),St=a(322),wt=a.n(St),Dt=a(163),xt=a(695),kt=a(682),Ct=a(329),Ot=a(680),Pt=a(703),It=a(24),Bt=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=Fe(),t=this.props,a=t.chartData,n=t.song,l=t.score,o=t.graphLastUpdated;if(!n||!l)return null;var i=n.notes?2*n.notes:0;return r.a.createElement("div",{style:{width:"95%",height:"100%",margin:"5px auto"}},r.a.createElement(It.k,{width:"100%"},r.a.createElement(It.b,{data:a,key:o},r.a.createElement(It.c,{strokeDasharray:"3 3"}),r.a.createElement(It.m,{stroke:e,dataKey:"name"}),r.a.createElement(It.n,{stroke:e,domain:[0,i],ticks:[Math.ceil(i*(6/9)),Math.ceil(i*(7/9)),Math.ceil(i*(8/9)),i],width:40}),r.a.createElement(It.l,{contentStyle:{color:"#333"}}),r.a.createElement(It.a,{dataKey:"EX SCORE",isAnimationActive:!1},a.map((function(e){var t="YOU"===e.name?"#e75d00":"#8884d8";return r.a.createElement(It.d,{key:e.name,fill:t})}))),r.a.createElement(It.j,{y:i*(8/9),label:r.a.createElement(It.f,{position:"insideTopRight",style:{fill:e}},"AAA"),stroke:e,isFront:!0}),r.a.createElement(It.j,{y:i*(7/9),label:r.a.createElement(It.f,{position:"insideTopRight",style:{fill:e}},"AA"),stroke:e,isFront:!0}),r.a.createElement(It.j,{y:i*(2/3),label:r.a.createElement(It.f,{position:"insideTopRight",style:{fill:e}},"A"),stroke:e,isFront:!0}))))}}]),t}(r.a.Component),At=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.song,a=e.score;if(!t||!a)return null;var n=2*t.notes;return r.a.createElement("div",null,r.a.createElement(mt.a,null,r.a.createElement(dt.a,{"aria-label":"Song Details"},r.a.createElement(gt.a,null,r.a.createElement(vt.a,null,r.a.createElement(ht.a,{style:{minWidth:"130px",maxWidth:"130px"}},r.a.createElement(Y.a,{id:"SongDetail.SongDetailHead"})),r.a.createElement(ht.a,null,"\xa0"))),r.a.createElement(pt.a,null,r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.Notes"})),r.a.createElement(ht.a,null,t.notes)),r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.WorldRecord"})),r.a.createElement(ht.a,null,t.wr,"(",Math.floor(t.wr/n*1e4)/100,"%)")),r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.Average"})),r.a.createElement(ht.a,null,t.avg,"(",Math.floor(t.avg/n*1e4)/100,"%)")),!Number.isNaN(a.exScore)&&r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.You"})),r.a.createElement(ht.a,null,a.exScore,"(",Math.floor(a.exScore/n*1e4)/100,"%)")),r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,"BPM"),r.a.createElement(ht.a,null,t.bpm)),a.version&&r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.Version"})),r.a.createElement(ht.a,null,a.version))))),(a.missCount||a.lastPlayed)&&r.a.createElement(mt.a,null,r.a.createElement(dt.a,{"aria-label":"Score Details"},r.a.createElement(gt.a,null,r.a.createElement(vt.a,null,r.a.createElement(ht.a,{style:{minWidth:"130px",maxWidth:"130px"}},r.a.createElement(Y.a,{id:"SongDetail.ScoreDetailHead"})),r.a.createElement(ht.a,null))),r.a.createElement(pt.a,null,a.lastPlayed&&r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.ClearState"})),r.a.createElement(ht.a,null,Ue(a.clearState,1))),a.missCount&&r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.MissCount"})),r.a.createElement(ht.a,null,a.missCount)),a.lastPlayed&&r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.LastPlayed"})),r.a.createElement(ht.a,null,a.lastPlayed)),a.Pgreat&&a.great&&r.a.createElement(vt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Y.a,{id:"SongDetail.ScoreDetails"})),r.a.createElement(ht.a,null,"PG:",a.Pgreat," G:",a.great))))))}}]),t}(r.a.Component),jt=a(673),Nt=a(697),Lt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){"number"===typeof e.target.value&&(a.setState({current:e.target.value,isLoading:!0}),a.updateScoreData(e.target.value))},a.state={isLoading:!0,current:0,dataset:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateScoreData()}},{key:"updateScoreData",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:0,a=this.props.song){e.next=4;break}return e.abrupt("return");case 4:if(n=new Je,0!==t){e.next=15;break}return e.t0=this,e.next=10,n.getWithinVersion(a);case 10:return e.t1=e.sent,e.t2={dataset:e.t1,isLoading:!1},e.abrupt("return",e.t0.setState.call(e.t0,e.t2));case 15:return e.t3=this,e.next=18,n.getAcrossVersion(a);case 18:return e.t4=e.sent,e.t5={dataset:e.t4,isLoading:!1},e.abrupt("return",e.t3.setState.call(e.t3,e.t5));case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.current,a=e.isLoading,n=e.dataset,l=this.props,o=l.song,i=l.score;return o&&i?r.a.createElement("div",null,r.a.createElement(fe.a,null,r.a.createElement(rt.a,{style:{width:"100%"}},r.a.createElement(jt.a,{shrink:!0},r.a.createElement(Y.a,{id:"SongDiffs.Target"})),r.a.createElement(Nt.a,{value:t,onChange:this.handleChange,displayEmpty:!0},r.a.createElement(Ot.a,{value:0},r.a.createElement(Y.a,{id:"SongDiffs.WithinSameVersion"})),r.a.createElement(Ot.a,{value:1},r.a.createElement(Y.a,{id:"SongDiffs.EachVersion"})))),a&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px"}},r.a.createElement(tt.a,null)),!a&&r.a.createElement(Tt,{scoreTable:n,type:t}))):null}}]),t}(r.a.Component),Tt=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=[0===this.props.type?{id:"updatedAt",label:"Date"}:{id:"storedAt",label:"Version"},{id:"exScore",label:"EX"},{id:"BPI",label:"BPI"}];return r.a.createElement(dt.a,null,r.a.createElement(gt.a,null,r.a.createElement(vt.a,null,e.map((function(e,t){return r.a.createElement(ht.a,{key:e.id,style:0===t?{minWidth:"150px"}:void 0},e.label)})))),r.a.createElement(pt.a,null,this.props.scoreTable.map((function(t,a){return r.a.createElement(vt.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.title+t.difficulty+a,className:a%2?"isOdd":"isEven"},e.map((function(e,a){return r.a.createElement(ht.a,{key:e.id},t[e.id])})))}))))}}]),t}(r.a.Component),Ht=a(77),Mt=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.value!==this.props.index?null:this.props.children}}]),t}(r.a.Component),Rt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).calc=new qe,a.unlisten=null,a.makeGraph=function(e){var t=[],n=0,r=a.props,l=r.song,o=r.score,i=function(e,a){return t.push({name:a,"EX SCORE":e})};if(!l||!o)return[];a.calc.setData(2*l.notes,l.avg,l.wr);for(var c=[0,10,20,30,40,50,60,70,80,90,100],s=e||o.exScore,u=0;u<c.length;++u){var m=a.calc.calcFromBPI(c[u],!0);n<s&&s<=m&&(i(s,"YOU"),n=s),n=m,i(m,String(c[u]))}return n<s&&i(s,"YOU"),t},a.handleScoreInput=function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var n,r,l;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.song,!a.state.isSaving){e.next=3;break}return e.abrupt("return",a.setState({errorSnack:!0,errorSnackMessage:"\u4fdd\u5b58\u4e2d\u3067\u3059"}));case 3:if(n){e.next=5;break}return e.abrupt("return",a.setState({errorSnack:!0,errorSnackMessage:"\u697d\u66f2\u30c7\u30fc\u30bf\u304c\u4e0d\u6b63\u3067\u3059\u3002"}));case 5:return r=Number(t.target.value),e.next=8,a.calc.calc(n.title,n.difficulty,r);case 8:if(!(l=e.sent).error){e.next=11;break}return e.abrupt("return",a.setState({errorSnack:!0,errorSnackMessage:l.reason}));case 11:return e.abrupt("return",a.setState({newScore:r,newBPI:Math.floor(100*l.bpi)/100,chartData:a.makeGraph(r).reverse(),graphLastUpdated:(new Date).getTime()}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleTabChange=function(e,t){return a.setState({currentTab:t})},a.toggleMenu=function(e){return a.setState({anchorEl:e?e.currentTarget:null})},a.jumpWeb=function(e){if(a.props.song){switch(e){case 0:window.open("http://textage.cc/score/"+a.props.song.textage);break;case 1:window.open("https://www.youtube.com/results?search_query="+a.props.song.title+"+IIDX");break;case 2:if("12"!==a.props.song.difficultyLevel){var t=a.props.intl.formatMessage;a.setState({errorSnack:!0,errorSnackMessage:t({id:"Details.ErrorIIDXInfo"})})}else window.open("https://iidx.info/songinfo/?title=".concat(a.props.song.title).concat(Xe(a.props.song.title,a.props.song.difficulty)));break;case 3:window.open("https://twitter.com/intent/tweet?&text=")}return a.toggleMenu()}},a.toggleFavorited=Object(Ce.a)(ke.a.mark((function e(){var t,n,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.favorited,n=a.props.song,r=new Ze,n){e.next=6;break}throw new Error;case 6:return e.next=8,r.toggleFavorite(n.title,n.difficulty,!t);case 8:return a.toggleSuccessSnack(),e.abrupt("return",a.setState({favorited:!t}));case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),a.toggleSuccessSnack=function(){return a.setState({successSnack:!a.state.successSnack})},a.toggleErrorSnack=function(){return a.setState({errorSnack:!a.state.errorSnack})},a.calcRank=function(){return a.props.score?"".concat(a.calc.rank(Number.isNaN(a.state.newBPI)?a.props.score.currentBPI:a.state.newBPI)):"-"},a.saveAndClose=Object(Ce.a)(ke.a.mark((function e(){var t,n,r,l,o,i,c,s,u;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state,n=t.newBPI,r=t.newScore,l=a.props,o=l.score,i=l.song,c=l.willDelete,i&&o){e.next=5;break}return e.abrupt("return");case 5:return a.setState({isSaving:!0}),s=new ze,u=new Je,e.next=9,s.updateScore(o,{currentBPI:n,exScore:r});case 9:return e.next=11,u.add(Object.assign(o,{difficultyLevel:i.difficultyLevel}),{currentBPI:n,exScore:r});case 11:a.props.handleOpen(!0,null,c?{title:o.title,difficulty:o.difficulty}:null),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",a.setState({errorSnack:!0,errorSnackMessage:e.t0}));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),a.showRank=function(e){var t=a.props,n=t.song,r=t.score,l=a.state.newScore;if(!n||!r)return"-";var o=2*n.notes,i=Number.isNaN(l)?r.exScore:l,c=i/o;return c<2/9?e?"".concat(Math.ceil(2*o/9-i)):"E-":c>=2/9&&c<1/3?e?"".concat(Math.ceil(1*o/3-i)):"D-":c>=1/3&&c<4/9?e?"".concat(Math.ceil(4*o/9-i)):"C-":c>=4/9&&c<5/9?e?"".concat(Math.ceil(5*o/9-i)):"B-":c>=5/9&&c<2/3?e?"".concat(Math.ceil(2*o/3-i)):"A-":c>=2/3&&c<7/9?e?"".concat(Math.ceil(7*o/9-i)):"AA-":c>=7/9&&c<8/9?e?"".concat(Math.ceil(8*o/9-i)):"AAA-":c>=8/9&&c<17/18?e?"".concat(Math.floor(i-8*o/9)):"AAA+":c>=17/18?e?"".concat(Math.ceil(o-i)):"MAX-":""},a.state={isError:!1,newScore:NaN,newBPI:NaN,showCharts:!0,chartData:a.makeGraph().reverse(),favorited:!!e.song&&e.song.isFavorited,currentTab:0,anchorEl:null,successSnack:!1,errorSnack:!1,errorSnackMessage:"",graphLastUpdated:(new Date).getTime(),isSaving:!1},a.unlisten=a.props.history.listen((function(e,t){"POP"===t&&(a.props.history.go(1),a.props.handleOpen(!1))})),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.props,n=a.isOpen,l=a.handleOpen,o=a.song,i=a.score,c=this.state,s=c.isSaving,u=c.newScore,m=c.newBPI,f=c.showCharts,v=c.chartData,E=c.currentTab,b=c.anchorEl,y=c.favorited,S=c.successSnack,D=c.errorSnack,x=c.errorSnackMessage;if(!o||!i)return null;var k=y?"#ffd700":"#c3c3c3";return r.a.createElement(Et.a,{id:"detailedScreen",className:"dark"===Re()?"darkDetailedScreen":"lightDetailedScreen",fullScreen:!0,open:n,onClose:l,style:{overflowX:"hidden",width:"100%"}},r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a,{edge:"start",color:"inherit",onClick:function(){return l(!1)},"aria-label":"close"},r.a.createElement(yt.a,null)),r.a.createElement(h.a,{variant:"h6",className:"be-ellipsis",style:{flexGrow:1}},o.title+We(o.difficulty)),(!Number.isNaN(m)||!Number.isNaN(u))&&r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(K.a,{variant:"contained",color:"secondary",onClick:this.saveAndClose,disabled:s},r.a.createElement(Y.a,{id:"Details.SaveButton"})),s&&r.a.createElement(tt.a,{size:24,style:{color:"#ccc",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})))),r.a.createElement(p.a,null),r.a.createElement(mt.a,null,r.a.createElement(ve.a,{container:!0,spacing:3},r.a.createElement(ve.a,{item:!0,xs:4,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"10px 0"}},r.a.createElement(h.a,{component:"h6",variant:"h6",color:"textSecondary"},"BPI"),r.a.createElement(h.a,{component:"h4",variant:"h4",color:"textPrimary"},i&&Number.isNaN(m)&&!Number.isNaN(i.currentBPI)&&i.currentBPI,!Number.isNaN(m)&&m,Number.isNaN(i.currentBPI)&&Number.isNaN(m)&&r.a.createElement("span",null,"-"))),r.a.createElement(ve.a,{item:!0,xs:4,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"10px 0"}},r.a.createElement(h.a,{component:"h6",variant:"h6",color:"textSecondary"},i&&r.a.createElement("span",null,this.showRank(!1))),r.a.createElement(h.a,{component:"h4",variant:"h4",color:"textPrimary"},i&&r.a.createElement("span",null,this.showRank(!0)))),r.a.createElement(ve.a,{item:!0,xs:4,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"10px 0"}},r.a.createElement(h.a,{component:"h6",variant:"h6",color:"textSecondary"},"RANK"),r.a.createElement(h.a,{component:"h4",variant:"h4",color:"textPrimary"},(!Number.isNaN(i.currentBPI)||!Number.isNaN(m))&&r.a.createElement("span",null,this.calcRank()),Number.isNaN(i.currentBPI)&&Number.isNaN(m)&&r.a.createElement("span",null,"-")))),r.a.createElement(w.a,null),r.a.createElement(ve.a,{container:!0},r.a.createElement(ve.a,{item:!0,xs:8},r.a.createElement("form",{noValidate:!0,autoComplete:"off",style:{margin:"10px 6px 0"}},r.a.createElement($e.a,{type:"number",style:{width:"100%"},label:r.a.createElement(Y.a,{id:"Details.typeNewScore"}),value:Number.isNaN(u)?i?i.exScore:0:u,onChange:this.handleScoreInput}))),r.a.createElement(ve.a,{item:!0,xs:1,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},r.a.createElement("div",{style:{margin:"10px 6px 0"}},r.a.createElement(Pt.a,{title:r.a.createElement(Y.a,{id:y?"Details.FavButtonRemove":"Details.FavButton"}),"aria-label":"add"},r.a.createElement(F.a,{style:{fontSize:"35px",color:k,position:"relative",top:"3px"},onClick:this.toggleFavorited}))),r.a.createElement(me,{message:t(y?{id:"Details.FavButtonAdded"}:{id:"Details.FavButtonRemoved"}),variant:"success",handleClose:this.toggleSuccessSnack,open:S,autoHideDuration:1e3})),r.a.createElement(ve.a,{item:!0,xs:1,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},r.a.createElement(g.a,{style:{margin:"10px 6px 0"},"aria-haspopup":"true",onClick:this.toggleMenu},r.a.createElement(wt.a,null)),r.a.createElement(Ct.a,{anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:function(){return e.toggleMenu()}},r.a.createElement(Ot.a,{onClick:function(){return e.jumpWeb(0)}},"TexTage"),r.a.createElement(Ot.a,{onClick:function(){return e.jumpWeb(1)}},"YouTube"),r.a.createElement(Ot.a,{onClick:function(){return e.jumpWeb(2)}},"IIDX.info"),r.a.createElement(Ot.a,{onClick:function(){return e.jumpWeb(3)}},r.a.createElement(Y.a,{id:"Common.Tweet"})))))),r.a.createElement(xt.a,{value:E,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",onChange:this.handleTabChange},r.a.createElement(kt.a,{label:r.a.createElement(Y.a,{id:"Details.Graph"})}),r.a.createElement(kt.a,{label:r.a.createElement(Y.a,{id:"Details.Details"})}),r.a.createElement(kt.a,{label:r.a.createElement(Y.a,{id:"Details.Diffs"})})),r.a.createElement(Mt,{value:E,index:0},f&&r.a.createElement(Bt,{song:o,score:i,chartData:v,graphLastUpdated:this.state.graphLastUpdated})),r.a.createElement(Mt,{value:E,index:1},r.a.createElement(At,{song:o,score:i})),r.a.createElement(Mt,{value:E,index:2},r.a.createElement(Lt,{song:o,score:i})),r.a.createElement(me,{message:x,variant:"warning",handleClose:this.toggleErrorSnack,open:D,autoHideDuration:3e3}))}}]),t}(r.a.Component),Ft=Object(Ht.e)(Object(Dt.c)(Rt)),Gt=function(e,t){if(0!==e)return"transparent";switch(t.clearState){case 0:return"#e0dede";case 1:return"#ea63ff";case 2:return"#acffab";case 3:return"#ff707a";case 4:return"#ff4545";case 5:return"#fff373";case 6:return"#ff793b";default:return"rgba(255,255,255,.55)"}},Ut=[{id:"difficultyLevel",label:"\u2606"},{id:"title",label:"\u66f2\u540d"},{id:"currentBPI",label:"BPI"},{id:"exScore",label:"EX"}],Vt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleOpen=function(e,t,n){return e&&a.props.updateScoreData(),a.setState({isOpen:!a.state.isOpen,currentSongData:t?a.props.allSongsData[t.title+Ve(t.difficulty)]:null,currentScoreData:t||null})},a.handleChangeRowsPerPage=function(e){a.props.handleChangePage(null,0),a.setState({rowsPerPage:+e.target.value})},a.state={rowsPerPage:10,isOpen:!1,currentSongData:null,currentScoreData:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.isOpen,l=t.currentSongData,o=t.currentScoreData,i=this.props,c=i.page,s=i.data,u=i.changeSort,m=i.sort,d=i.isDesc,p=i.mode;return r.a.createElement(mt.a,{style:{width:"100%",overflowX:"auto"}},r.a.createElement("div",null,r.a.createElement(dt.a,null,r.a.createElement(gt.a,null,r.a.createElement(vt.a,null,Ut.map((function(e,t){return r.a.createElement(ht.a,{key:e.id,onClick:function(){return u(t)}},(p<5||2!==t)&&e.label,p>4&&2===t&&"BP",t===m&&r.a.createElement("span",null,d&&r.a.createElement("span",null,"\u25bc"),!d&&r.a.createElement("span",null,"\u25b2")),t!==m&&r.a.createElement("span",null,"\u25b3"))})))),r.a.createElement(pt.a,null,s.slice(c*a,c*a+a).map((function(t,a){return r.a.createElement(vt.a,{onClick:function(){return e.handleOpen(!1,t)},hover:!0,role:"checkbox",tabIndex:-1,key:t.title,className:a%2?"isOdd":"isEven"},Ut.map((function(a,n){var l,o="hyper"===t.difficulty?"(H)":"leggendaria"===t.difficulty?"(\u2020)":"";return r.a.createElement(ht.a,{key:a.id+o,style:{backgroundColor:Gt(n,t),position:"relative"}},(p<5||"currentBPI"!==a.id)&&t[a.id],"title"===a.id&&o,p>0&&p<5&&"exScore"===a.id&&r.a.createElement("span",null,"(-",function(e,t,a){try{var n=2*t[e.title+Ve(e.difficulty)].notes;return Math.ceil(n*[1,2/3,7/9,8/9,1][a]-e.exScore)}catch(r){return}}(t,e.props.allSongsData,p),")"),p>4&&"currentBPI"===a.id&&(l=t.missCount,Number.isNaN(l)?"-":String(l)),3===n&&0===p&&t.lastScore>-1&&r.a.createElement("span",{className:"plusOverlayScore"},t.exScore-t.lastScore>0?"+"+Number(t.exScore-t.lastScore):t.exScore-t.lastScore))})))}))))),r.a.createElement(ft.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:this.props.data.length,rowsPerPage:a,page:c,labelRowsPerPage:"",backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:this.props.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),n&&r.a.createElement(Ft,{isOpen:n,song:l,score:o,handleOpen:this.handleOpen}))}}]),t}(r.a.Component),Wt=a(670),Yt=a(174),Xt=a.n(Yt),_t=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleChangePage=function(e,t){return a.setState({page:t})},a.handleLevelChange=function(e){return function(t){a.handleExec(e,t.target.checked,"level")}},a.handleDiffChange=function(e){return function(t){a.handleExec(e,t.target.checked,"difficulty")}},a.handleExec=function(e,t,n){var r=a.state;return t?r.options[n].push(e):r.options[n]=r.options[n].filter((function(t){return t!==e})),a.setState({scoreData:a.songFilter(r),options:r.options,page:0})},a.handleInputChange=function(e){var t=a.cloneState();return t.filterByName=e?e.target.value:"",a.setState({scoreData:a.songFilter(t),filterByName:t.filterByName,page:0})},a.songFilter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.state,t=["hyper","another","leggendaria"],n=e.mode,r=e.range,l=a.state.allSongsData,o=function(e){var t=function(e){return Be()(e).format("YYYYMMDD")};return 0===r||(1===r?t(e.updatedAt)===t(new Date):Be()(e.updatedAt).week()===Be()(new Date).week())},i=function(e,t){return 0===n||(1===n?e.exScore/t<2/3:2===n?e.exScore/t<7/9&&2/3<e.exScore/t:3===n?e.exScore/t<8/9&&7/9<e.exScore/t:4===n||(5===n?e.clearState<=3:6===n?e.clearState<=4:7!==n||e.clearState<=5))};return 0===Object.keys(a.state.allSongsData).length?[]:a.props.full.filter((function(a){if(!l[a.title+Ve(a.difficulty)])return!1;var n=2*l[a.title+Ve(a.difficulty)].notes;return o(a)&&i(a,n)&&e.options.level.some((function(e){return e===a.difficultyLevel}))&&e.options.difficulty.some((function(e){return t[Number(e)]===a.difficulty}))&&a.title.toLowerCase().indexOf(e.filterByName.toLowerCase())>-1}))},a.changeSort=function(e){var t=a.state,n=t.sort,r=t.isDesc;return n===e?a.setState({isDesc:!r}):a.setState({sort:e,isDesc:!0})},a.sortedData=function(){var e=a.state,t=e.scoreData,n=e.sort,r=e.isDesc,l=e.mode,o=e.allSongsData,i=t.sort((function(e,t){switch(n){case 0:return Number(t.difficultyLevel)-Number(e.difficultyLevel);case 1:return t.title.localeCompare(e.title,"ja",{numeric:!0});default:case 2:return l>4?e.missCount&&t.missCount?e.missCount-t.missCount||(e.missCount||1/0)-(t.missCount||1/0)||0:-1:t.currentBPI-e.currentBPI;case 3:if(l>0&&l<5){var a=2*o[e.title+Ve(e.difficulty)].notes,r=2*o[t.title+Ve(t.difficulty)].notes;return t.exScore/r-e.exScore/a}return t.exScore-e.exScore}}));return r?i:i.reverse()},a.handleModeChange=function(e){if("number"===typeof e.target.value){var t=a.cloneState();return t.mode=e.target.value,a.setState({scoreData:a.songFilter(t),mode:e.target.value})}},a.handleRangeCange=function(e){if("number"===typeof e.target.value){var t=a.cloneState();return t.range=e.target.value,a.setState({scoreData:a.songFilter(t),range:e.target.value})}},a.cloneState=function(){return JSON.parse(JSON.stringify(a.state))},a.state={isLoading:!0,filterByName:"",scoreData:[],allSongsData:{},mode:0,sort:2,isDesc:!0,options:{level:["11","12"],difficulty:["0","1","2"]},range:0,page:0},a.updateScoreData=a.updateScoreData.bind(Object(Oe.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,(new Ze).getAll(je());case 3:for(a=e.sent,n=0;n<a.length;++n)r=We(a[n].difficulty),t[a[n].title+r]=a[n];this.setState({scoreData:this.props.full,allSongsData:t,isLoading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){if(!Xt()(e.full,this.props.full))return this.setState({scoreData:this.songFilter()})}},{key:"updateScoreData",value:function(){return this.props.updateScoreData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,r=t.filterByName,l=t.options,o=t.sort,i=t.isDesc,c=t.mode,s=t.range,u=t.page;return a?n.createElement(fe.a,{className:"loaderCentered"},n.createElement(tt.a,null)):n.createElement(fe.a,{className:"commonLayout",fixed:!0,id:"songsVil"},n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0,style:{display:"flex",justifyContent:"space-between"}},n.createElement(Y.a,{id:this.props.title}),n.createElement(rt.a,null,n.createElement(Nt.a,{value:s,displayEmpty:!0,onChange:this.handleRangeCange},n.createElement(Ot.a,{value:0},"\u5168\u671f\u9593"),n.createElement(Ot.a,{value:1},"\u672c\u65e5\u66f4\u65b0\u5206"),n.createElement(Ot.a,{value:2},"\u4eca\u9031\u66f4\u65b0\u5206")))),n.createElement(ve.a,{container:!0,spacing:1,style:{margin:"5px 0"}},n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{style:{width:"100%"}},n.createElement(jt.a,null,n.createElement(Y.a,{id:"Songs.mode"})),n.createElement(Nt.a,{value:c,onChange:this.handleModeChange},n.createElement(Ot.a,{value:0},n.createElement(Y.a,{id:"Songs.mode0"})),n.createElement(Ot.a,{value:1},n.createElement(Y.a,{id:"Songs.mode1"})),n.createElement(Ot.a,{value:2},n.createElement(Y.a,{id:"Songs.mode2"})),n.createElement(Ot.a,{value:3},n.createElement(Y.a,{id:"Songs.mode3"})),n.createElement(Ot.a,{value:4},n.createElement(Y.a,{id:"Songs.mode4"})),n.createElement(Ot.a,{value:5},n.createElement(Y.a,{id:"Songs.mode5"})),n.createElement(Ot.a,{value:6},n.createElement(Y.a,{id:"Songs.mode6"})),n.createElement(Ot.a,{value:7},n.createElement(Y.a,{id:"Songs.mode7"}))))),n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{component:"fieldset",style:{width:"100%"}},n.createElement(jt.a,{htmlFor:"standard-adornment-password"},n.createElement(Y.a,{id:"Songs.filterByName"})),n.createElement(Wt.a,{style:{width:"100%"},placeholder:"(ex.)255",value:r,onChange:this.handleInputChange,endAdornment:r&&n.createElement(ut.a,{position:"end"},n.createElement(g.a,{onClick:function(){return e.handleInputChange(null)}},n.createElement(st.a,null)))})))),n.createElement(ve.a,{container:!0,spacing:1,id:"mainFilters",style:{margin:"5px 0"}},n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{component:"fieldset"},n.createElement(nt.a,{component:"legend"},n.createElement(Y.a,{id:"Songs.filterByLevel"})),n.createElement(lt.a,{row:!0},n.createElement(ot.a,{control:n.createElement(it.a,{checked:l.level.some((function(e){return"11"===e})),onChange:this.handleLevelChange("11"),value:"11"}),label:"\u260611"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:l.level.some((function(e){return"12"===e})),onChange:this.handleLevelChange("12"),value:"12"}),label:"\u260612"})))),n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{component:"fieldset"},n.createElement(nt.a,{component:"legend"},n.createElement(Y.a,{id:"Songs.filterByDifficulty"})),n.createElement(lt.a,{row:!0},n.createElement(ot.a,{control:n.createElement(it.a,{checked:l.difficulty.some((function(e){return"0"===e})),onChange:this.handleDiffChange("0"),value:"hyper"}),label:"H"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:l.difficulty.some((function(e){return"1"===e})),onChange:this.handleDiffChange("1"),value:"another"}),label:"A"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:l.difficulty.some((function(e){return"2"===e})),onChange:this.handleDiffChange("2"),value:"leggendaria"}),label:"\u2020"}))))),n.createElement(Vt,{page:u,handleChangePage:this.handleChangePage,data:this.sortedData(),sort:o,isDesc:i,mode:c,changeSort:this.changeSort,allSongsData:this.state.allSongsData,updateScoreData:this.updateScoreData}))}}]),t}(n.Component),qt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={full:[]},a.updateScoreData=a.updateScoreData.bind(Object(Oe.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateScoreData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateScoreData",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new ze).getAll();case 2:t=e.sent,this.setState({full:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.full?n.createElement("div",null,n.createElement(_t,{title:"Songs.title",full:this.state.full,updateScoreData:this.updateScoreData})):null}}]),t}(n.Component),Kt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={full:[]},a.updateScoreData=a.updateScoreData.bind(Object(Oe.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateScoreData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateScoreData",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r,l,o,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ze,e.next=3,(new Ze).getAllFavoritedItems();case 3:a=e.sent,n=[],r=0;case 6:if(!(r<a.length)){e.next=18;break}return l=a[r],o=Ye(l.difficulty),e.next=11,t.getItem(l.title,o,Ne(),je());case 11:if(i=e.sent,!(je()&&"0"!==l.dpLevel||!je()&&"0"===l.dpLevel)){e.next=14;break}return e.abrupt("continue",15);case 14:0===i.length?n.push({title:l.title,clearState:7,currentBPI:-15,difficulty:o,difficultyLevel:l.difficultyLevel,exScore:0,isSingle:je(),storedAt:Ne(),lastScore:-1,updatedAt:"-"}):n.push(i[0]);case 15:++r,e.next=6;break;case 18:this.setState({full:n});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.full?n.createElement("div",null,n.createElement(_t,{title:"Favorites.Title",full:this.state.full,updateScoreData:this.updateScoreData})):null}}]),t}(n.Component),zt=[{id:"difficultyLevel",label:"\u2606"},{id:"title",label:"\u66f2\u540d"}],Jt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleOpen=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;e&&a.props.updateScoreData(!0,n);var r=t?{difficulty:Ye(t.difficulty),title:t.title,currentBPI:NaN,exScore:0,difficultyLevel:t.difficultyLevel,storedAt:Ne(),isSingle:je(),clearState:7,lastScore:-1,updatedAt:"-"}:null;return a.setState({isOpen:!a.state.isOpen,currentSongData:t||null,currentScoreData:r})},a.handleChangeRowsPerPage=function(e){a.props.handleChangePage(null,0),a.setState({rowsPerPage:+e.target.value})},a.state={rowsPerPage:10,isOpen:!1,currentSongData:null,currentScoreData:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rowsPerPage,n=t.isOpen,l=t.currentSongData,o=t.currentScoreData,i=this.props,c=i.page,s=i.data,u=i.changeSort,m=i.sort,d=i.isDesc;return r.a.createElement(mt.a,{style:{width:"100%",overflowX:"auto"}},r.a.createElement("div",null,r.a.createElement(dt.a,null,r.a.createElement(gt.a,null,r.a.createElement(vt.a,null,zt.map((function(e,t){return r.a.createElement(ht.a,{key:e.id,onClick:function(){return u(t)}},e.label,t===m&&r.a.createElement("span",null,d&&r.a.createElement("span",null,"\u25bc"),!d&&r.a.createElement("span",null,"\u25b2")),t!==m&&r.a.createElement("span",null,"\u25b3"))})))),r.a.createElement(pt.a,null,s.slice(c*a,c*a+a).map((function(t,a){return r.a.createElement(vt.a,{onClick:function(){return e.handleOpen(!1,t)},hover:!0,role:"checkbox",tabIndex:-1,key:t.title+t.difficulty,className:a%2?"isOdd":"isEven"},zt.map((function(e,a){var n=Ye(t.difficulty),l="hyper"===n?"(H)":"leggendaria"===n?"(\u2020)":"";return r.a.createElement(ht.a,{key:e.id+l},t[e.id],"title"===e.id&&l)})))}))))),r.a.createElement(ft.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:this.props.data.length,rowsPerPage:a,page:c,labelRowsPerPage:"",backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:this.props.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),n&&r.a.createElement(Ft,{isOpen:n,song:l,score:o,handleOpen:this.handleOpen,willDelete:!0}))}}]),t}(r.a.Component),Zt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e)))._mounted=!1,a.handleChangePage=function(e,t){return a.setState({page:t})},a.handleLevelChange=function(e){return function(t){a.handleExec(e,t.target.checked,"level")}},a.handleDiffChange=function(e){return function(t){a.handleExec(e,t.target.checked,"difficulty")}},a.handleExec=function(e,t,n){var r=a.state;return t?r.options[n].push(e):r.options[n]=r.options[n].filter((function(t){return t!==e})),a.setState({songData:a.songFilter(r),options:r.options,page:0})},a.handleInputChange=function(e){var t=a.cloneState();return t.filterByName=e?e.target.value:"",a.setState({songData:a.songFilter(t),filterByName:t.filterByName,page:0})},a.songFilter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.state,t=["hyper","another","leggendaria"];return a.props.full.filter((function(a){return e.options.level.some((function(e){return e===a.difficultyLevel}))&&e.options.difficulty.some((function(e){return t[Number(e)]===Ye(a.difficulty)}))&&a.title.toLowerCase().indexOf(e.filterByName.toLowerCase())>-1}))},a.changeSort=function(e){var t=a.state,n=t.sort,r=t.isDesc;return n===e?a.setState({isDesc:!r}):a.setState({sort:e,isDesc:!0})},a.sortedData=function(){var e=a.state,t=e.songData,n=e.sort,r=e.isDesc,l=t.sort((function(e,t){switch(n){case 0:return Number(t.difficultyLevel)-Number(e.difficultyLevel);case 1:default:return t.title.localeCompare(e.title,"ja",{numeric:!0})}}));return r?l:l.reverse()},a.cloneState=function(){return JSON.parse(JSON.stringify(a.state))},a.state={filterByName:"",songData:[],sort:1,isDesc:!1,options:{level:["11","12"],difficulty:["0","1","2"]},page:0},a.updateScoreData=a.updateScoreData.bind(Object(Oe.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({songData:this.songFilter()})}},{key:"componentDidUpdate",value:function(e){if(!Xt()(e.full,this.props.full))return this.setState({songData:this.songFilter()})}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"updateScoreData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e&&t?this.props.updateScoreData(e,t):this.props.updateScoreData(!1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.filterByName,r=t.options,l=t.sort,o=t.isDesc,i=t.page;return n.createElement(fe.a,{className:"commonLayout",fixed:!0,id:"songsVil"},n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0,style:{display:"flex",justifyContent:"space-between"}},n.createElement(Y.a,{id:this.props.title})),n.createElement(ve.a,{container:!0,spacing:1,style:{margin:"5px 0"}},n.createElement(ve.a,{item:!0,xs:12},n.createElement(rt.a,{component:"fieldset",style:{width:"100%"}},n.createElement(jt.a,{htmlFor:"standard-adornment-password"},n.createElement(Y.a,{id:"Songs.filterByName"})),n.createElement(Wt.a,{style:{width:"100%"},placeholder:"(ex.)255",value:a,onChange:this.handleInputChange,endAdornment:a&&n.createElement(ut.a,{position:"end"},n.createElement(g.a,{onClick:function(){return e.handleInputChange(null)}},n.createElement(st.a,null)))})))),n.createElement(ve.a,{container:!0,spacing:1,id:"mainFilters",style:{margin:"5px 0"}},n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{component:"fieldset"},n.createElement(nt.a,{component:"legend"},n.createElement(Y.a,{id:"Songs.filterByLevel"})),n.createElement(lt.a,{row:!0},n.createElement(ot.a,{control:n.createElement(it.a,{checked:r.level.some((function(e){return"11"===e})),onChange:this.handleLevelChange("11"),value:"11"}),label:"\u260611"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:r.level.some((function(e){return"12"===e})),onChange:this.handleLevelChange("12"),value:"12"}),label:"\u260612"})))),n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{component:"fieldset"},n.createElement(nt.a,{component:"legend"},n.createElement(Y.a,{id:"Songs.filterByDifficulty"})),n.createElement(lt.a,{row:!0},n.createElement(ot.a,{control:n.createElement(it.a,{checked:r.difficulty.some((function(e){return"0"===e})),onChange:this.handleDiffChange("0"),value:"hyper"}),label:"H"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:r.difficulty.some((function(e){return"1"===e})),onChange:this.handleDiffChange("1"),value:"another"}),label:"A"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:r.difficulty.some((function(e){return"2"===e})),onChange:this.handleDiffChange("2"),value:"leggendaria"}),label:"\u2020"}))))),n.createElement(Jt,{page:i,handleChangePage:this.handleChangePage,data:this.sortedData(),sort:l,isDesc:o,changeSort:this.changeSort,updateScoreData:this.updateScoreData}))}}]),t}(n.Component),Qt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={full:[]},a.updateScoreData=a.updateScoreData.bind(Object(Oe.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateScoreData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateScoreData",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r,l,o,i,c,s,u=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],a=u.length>1?u[1]:void 0,!t||!a){e.next=4;break}return e.abrupt("return",this.setState({full:this.state.full.filter((function(e){return e.title!==a.title||Ye(e.difficulty)!==a.difficulty}))}));case 4:return n=Ne(),r=je(),e.next=8,(new Ze).getAll(r);case 8:l=e.sent,o=new ze,i=[],c=0;case 12:if(!(c<l.length)){e.next=21;break}return s=l[c],e.next=16,o.getItem(s.title,Ye(s.difficulty),n,r);case 16:0===e.sent.length&&i.push(s);case 18:++c,e.next=12;break;case 21:this.setState({full:i});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 0===this.state.full.length?n.createElement(fe.a,{className:"loaderCentered"},n.createElement(tt.a,null)):n.createElement("div",{id:"_notPlayed"},n.createElement(Zt,{title:"NotPlayed.Title",full:this.state.full,updateScoreData:this.updateScoreData}))}}]),t}(n.Component),$t=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).groupByBPI=function(e){return e.reduce((function(e,t){var a=10*Math.floor(t/10);return a>100&&(a=100),e[a]?e[a]++:e[a]=1,e}),{})},a.state={isLoading:!0,totalBPI:0,perDate:[],groupedByBPI:[]},a.updateScoreData=a.updateScoreData.bind(Object(Oe.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateScoreData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateScoreData",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r,l,o,i,c,s,u,m,d,p,h;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ze,a=new qe,n=Ne(),r=je(),e.next=6,t.getAllTwelvesBPI(r,n,"12");case 6:return l=e.sent,e.next=9,t.getAllTwelvesBPI(r,n,"11");case 9:return o=e.sent,a.allTwelvesBPI=l,e.next=13,(new Ze).getAllTwelvesLength(r);case 13:return a.allTwelvesLength=e.sent,e.next=16,(new Je).getAll("12");case 16:for(e.t0=function(e,t){var a=Be()(t.updatedAt).format("YYYY/MM/DD");return e[a]||(e[a]=[]),e[a].push(t),e},e.t1={},i=e.sent.reduce(e.t0,e.t1),c=[],Object.keys(i).map((function(e,t){if(t>10)return 0;var a=i[e].reduce((function(e,t){return{BPI:e.BPI+t.BPI}}));return c.push({name:e,sum:i[e].length,avg:Math.round(a.BPI/i[e].length*100)/100}),0})),s=[-20,-10,0,10,20,30,40,50,60,70,80,90,100],u=[],m=this.groupByBPI(l),d=this.groupByBPI(o),p=0;p<s.length;++p)(h={name:s[p],"\u260611":0,"\u260612":0})["\u260611"]=d[s[p]]?d[s[p]]:0,h["\u260612"]=m[s[p]]?m[s[p]]:0,u.push(h);this.setState({isLoading:!1,totalBPI:a.totalBPI(),perDate:c.sort((function(e,t){return Be()(e.name).diff(t.name)})),groupedByBPI:u});case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.totalBPI,a=e.isLoading,r=e.perDate,l=e.groupedByBPI,o=this.props.intl.formatMessage,i=Fe();return a?n.createElement(fe.a,{className:"loaderCentered"},n.createElement(tt.a,null)):n.createElement(fe.a,{className:"commonLayout",fixed:!0},n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Stats.title"})),n.createElement(ve.a,{container:!0,spacing:3},n.createElement(ve.a,{item:!0,xs:12,md:3,lg:3},n.createElement(mt.a,{style:{padding:"15px"},className:"responsiveTotalBPI"},n.createElement(h.a,{component:"h6",variant:"h6",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Stats.TotalBPI"})),n.createElement(h.a,{component:"h2",variant:"h2",color:"textPrimary"},t))),n.createElement(ve.a,{item:!0,xs:12,md:9,lg:9},n.createElement(mt.a,{style:{padding:"15px",height:240}},n.createElement(h.a,{component:"h6",variant:"h6",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Stats.EachDay"})),r.length>0&&n.createElement("div",{style:{width:"95%",height:"100%",margin:"5px auto"}},n.createElement(It.k,{width:"100%"},n.createElement(It.e,{data:r,margin:{top:5,right:30,left:-30,bottom:25}},n.createElement(It.c,{strokeDasharray:"3 3"}),n.createElement(It.m,{dataKey:"name",stroke:i}),n.createElement(It.n,{orientation:"left",tickLine:!1,axisLine:!1,stroke:i}),n.createElement(It.l,{contentStyle:{color:"#333"}}),n.createElement(It.a,{dataKey:"sum",name:o({id:"Stats.UpdatedSum"}),fill:"#82ca9d"}),n.createElement(It.h,{dataKey:"avg",name:o({id:"Stats.Average"})})))),0===r.length&&n.createElement("p",null,"No data found.")))),n.createElement(ve.a,{container:!0,spacing:3},n.createElement(ve.a,{item:!0,xs:12,md:12,lg:12},n.createElement(mt.a,{style:{padding:"15px",height:270}},n.createElement(h.a,{component:"h6",variant:"h6",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Stats.Distribution"})),l.length>0&&n.createElement("div",{style:{width:"95%",height:"100%",margin:"5px auto"}},n.createElement(It.k,{width:"100%"},n.createElement(It.i,{data:l,margin:{top:5,right:30,left:-30,bottom:30}},n.createElement(It.c,{strokeDasharray:"3 3"}),n.createElement(It.m,{dataKey:"name",stroke:i}),n.createElement(It.n,{stroke:i}),n.createElement(It.l,{contentStyle:{color:"#333"}}),n.createElement(It.g,null),n.createElement(It.h,{type:"monotone",dataKey:"\u260611",stroke:"#8884d8",activeDot:{r:8}}),n.createElement(It.h,{type:"monotone",dataKey:"\u260612",stroke:"#82ca9d"})))),0===l.length&&n.createElement("p",null,"No data found.")))))}}]),t}(n.Component),ea=Object(Dt.c)($t),ta=a(59),aa=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).state={lang:Le(),store:Ne(),theme:Re(),isSingle:je(),goalBPI:He(),goalPercentage:Me(),cannotMove:!1},e.setLang=e.setLang.bind(Object(Oe.a)(e)),e.setStore=e.setStore.bind(Object(Oe.a)(e)),e.setTheme=e.setTheme.bind(Object(Oe.a)(e)),e.setIsSingle=e.setIsSingle.bind(Object(Oe.a)(e)),e.setGoalBPI=e.setGoalBPI.bind(Object(Oe.a)(e)),e.setGoalPercentage=e.setGoalPercentage.bind(Object(Oe.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setLang",value:function(e){localStorage.setItem("lang",e),this.setState({lang:e})}},{key:"setStore",value:function(e){localStorage.setItem("currentStore",e),this.setState({store:e})}},{key:"setTheme",value:function(e){localStorage.setItem("theme",e),this.setState({theme:e})}},{key:"setIsSingle",value:function(e){localStorage.setItem("isSingle",String(e)),this.setState({isSingle:e})}},{key:"setGoalBPI",value:function(e){localStorage.setItem("goalBPI",String(e)),this.setState({goalBPI:e})}},{key:"setGoalPercentage",value:function(e){localStorage.setItem("goalPercentage",String(e)),this.setState({goalPercentage:e})}},{key:"setMove",value:function(e){this.setState({cannotMove:e})}}]),t}(ta.a),na=a(324),ra=a.n(na),la=a(325),oa=a.n(la),ia=a(687),ca=a(688),sa=a(689),ua=a(690),ma=a(686),da={versionNumber:"5"},pa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).deleteDef=Object(Ce.a)(ke.a.mark((function e(){var t,n,r,l;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.props.global.setMove(!0),a.setState({disableDeleteBtn:!0,message2:""}),t=new ze,n=new Je,r=new Ze,"Songs Database"!==(l=a.state.currentResetStore)){e.next=10;break}return e.next=8,r.deleteAll();case 8:e.next=14;break;case 10:return e.next=12,t.resetItems(l);case 12:return e.next=14,n.reset(l);case 14:a.setState({disableDeleteBtn:!1,message2:"\u6b63\u5e38\u306b\u524a\u9664\u3057\u307e\u3057\u305f"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),a.setState({disableDeleteBtn:!1,message2:"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f"});case 21:a.props.global.setMove(!1);case 22:case"end":return e.stop()}}),e,null,[[0,17]])}))),a.toggleDialog=function(){return a.setState({isDialogOpen:!a.state.isDialogOpen})},a.updateDef=Object(Ce.a)(ke.a.mark((function e(){var t,n,r,l,o,i,c,s;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){a.props.global.setMove(!1)},e.prev=1,a.props.global.setMove(!0),a.setState({disableUpdateBtn:!0,message:""}),n=new Ze,r=new Je,l=function(e){return e.reduce((function(e,t){return e[t.title+t.difficulty+t.dpLevel]=t,e}),{})},e.next=9,n.getAllWithAllPlayModes().then((function(e){return l(e)}));case 9:return o=e.sent,e.next=12,fetch("https://files.poyashi.me/json/songsWithDP.json").then((function(e){return e.json()}));case 12:if(i=e.sent,!(Number(i.requireVersion)>Number(da.versionNumber))){e.next=16;break}return t(),e.abrupt("return",a.setState({disableUpdateBtn:!1,message:"\u6700\u65b0\u306e\u5b9a\u7fa9\u30c7\u30fc\u30bf\u3092\u5c0e\u5165\u3059\u308b\u305f\u3081\u306b\u672c\u4f53\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059:\u8981\u6c42\u30d0\u30fc\u30b8\u30e7\u30f3>="+i.requireVersion}));case 16:if(i.version!==a.state.currentVersion){e.next=19;break}return t(),e.abrupt("return",a.setState({disableUpdateBtn:!1,message:"\u5b9a\u7fa9\u30c7\u30fc\u30bf\u306f\u3059\u3067\u306b\u6700\u65b0\u3067\u3059"}));case 19:return c=function(){return i.body.map((function(e){return new Promise((function(t){var a=e.title+e.difficulty+e.dpLevel;o[a]&&o[a].dpLevel===e.dpLevel?n.updateItem(e).then((function(){return t()})):n.setItem(e).then((function(){return t()}))}))}))},e.next=22,Promise.all(c());case 22:return(s=new ze).setNewSongsDBRawData(l(i.body)),e.next=26,s.recalculateBPI();case 26:return e.next=28,r.recalculateBPI();case 28:localStorage.setItem("lastDefFileVer",i.version),a.setState({currentVersion:i.version,disableUpdateBtn:!1,message:"\u66f4\u65b0\u5b8c\u4e86"}),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(1),console.log(e.t0),a.setState({disableUpdateBtn:!1,message:"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f"});case 36:return t(),e.abrupt("return");case 38:case"end":return e.stop()}}),e,null,[[1,32]])}))),a.state={isLoading:!1,disableUpdateBtn:!1,currentVersion:Te(),message:"",message2:"",currentResetStore:"27",disableDeleteBtn:!1,isDialogOpen:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,r=t.isDialogOpen,l=t.disableUpdateBtn,o=t.message,i=t.message2,c=t.currentResetStore,s=t.disableDeleteBtn;return a?n.createElement(fe.a,{className:"loaderCentered"},n.createElement(tt.a,null)):n.createElement(ta.c,{to:[aa]},(function(t){var a=t.state,u=t.setLang,m=t.setStore,d=t.setTheme,p=t.setIsSingle,g=t.setGoalBPI,f=t.setGoalPercentage;return n.createElement(fe.a,{className:"commonLayout",fixed:!0},n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Settings.title"})),n.createElement(mt.a,{style:{padding:"15px"}},n.createElement(rt.a,null,n.createElement(jt.a,null,n.createElement(Y.a,{id:"Settings.language"})),n.createElement(Nt.a,{value:a.lang,onChange:function(e){"string"===typeof e.target.value&&u(e.target.value)}},n.createElement(Ot.a,{value:"ja"},"\u65e5\u672c\u8a9e"),n.createElement(Ot.a,{value:"en"},"English"))),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.noteLang"})),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(rt.a,null,n.createElement(jt.a,null,n.createElement(Y.a,{id:"Settings.theme"})),n.createElement(Nt.a,{value:a.theme,onChange:function(e){"string"===typeof e.target.value&&d(e.target.value)}},n.createElement(Ot.a,{value:"light"},"Light"),n.createElement(Ot.a,{value:"dark"},"Dark"))),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(rt.a,null,n.createElement(jt.a,null,n.createElement(Y.a,{id:"Settings.dataStore"})),n.createElement(Nt.a,{value:a.store,onChange:function(e){"string"===typeof e.target.value&&m(e.target.value)}},n.createElement(Ot.a,{value:"26"},"26 Rootage"),n.createElement(Ot.a,{value:"27"},"27 HEROIC VERSE"))),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.noteMes1"})),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.inaccurateMes"})),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(h.a,{variant:"caption",display:"block",className:"MuiFormLabel-root MuiInputLabel-animated MuiInputLabel-shrink"},n.createElement(Y.a,{id:"Settings.DPMode"}),"(beta)"),n.createElement(ma.a,{checked:0===a.isSingle,onChange:function(e){"boolean"===typeof e.target.checked&&p(!0===e.target.checked?0:1)}}),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.dpDescription"})),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement($e.a,{value:a.goalBPI,label:n.createElement(Y.a,{id:"Settings.MyGoalBPI"}),type:"number",InputLabelProps:{shrink:!0},onChange:function(e){"string"===typeof e.target.value&&g(Number(e.target.value)>100?100:Number(e.target.value))},style:{margin:"0 0 5px 0",width:"100%"}}),n.createElement($e.a,{value:a.goalPercentage,label:n.createElement(Y.a,{id:"Settings.MyGoalPercentage"}),type:"number",InputLabelProps:{shrink:!0},onChange:function(e){"string"===typeof e.target.value&&f(Number(e.target.value)>100?100:Number(e.target.value))},style:{margin:"0 0 5px 0",width:"100%"}}),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.MyGoalDescription"})),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(rt.a,null,n.createElement(h.a,{variant:"caption",display:"block",className:"MuiFormLabel-root MuiInputLabel-animated MuiInputLabel-shrink"},n.createElement(Y.a,{id:"Settings.Update"})),n.createElement("div",{style:{position:"relative"}},n.createElement(K.a,{variant:"contained",color:"secondary",onClick:e.updateDef,disabled:l,startIcon:n.createElement(ra.a,null)},n.createElement(Y.a,{id:"Settings.UpdateResourcePacks"})),l&&n.createElement(tt.a,{size:24,style:{color:"#777",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}))),n.createElement(h.a,{variant:"caption",display:"block"},o),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.currentVersion"}),e.state.currentVersion),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.updateWarning"})),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(rt.a,null,n.createElement(jt.a,null,n.createElement(Y.a,{id:"Settings.dataClear"})),n.createElement(Nt.a,{value:c,onChange:function(t){"string"===typeof t.target.value&&e.setState({currentResetStore:t.target.value})}},n.createElement(Ot.a,{value:"26"},"26 Rootage"),n.createElement(Ot.a,{value:"27"},"27 HEROIC VERSE"),n.createElement(Ot.a,{value:"Songs Database"},"Songs Database"))),n.createElement(h.a,{variant:"caption",display:"block"},n.createElement(Y.a,{id:"Settings.resetWarning"})),n.createElement("div",{style:{position:"relative"}},n.createElement(K.a,{variant:"contained",color:"secondary",style:{background:"#dc004e"},onClick:e.toggleDialog,disabled:s,startIcon:n.createElement(oa.a,null)},n.createElement(Y.a,{id:"Settings.DeleteExec"})),n.createElement(h.a,{variant:"caption",display:"block"},i),n.createElement(ga,{isDialogOpen:r,exec:e.deleteDef,close:e.toggleDialog,currentResetStore:c}),s&&n.createElement(tt.a,{size:24,style:{color:"#777",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}))))}))}}]),t}(n.Component),ha=Object(Dt.c)(pa),ga=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleOk=function(){a.props.exec(),a.props.close()},a.handleClose=function(){a.props.close()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isDialogOpen,a=e.currentResetStore;return n.createElement("div",null,n.createElement(Et.a,{open:t,onClose:this.handleClose},n.createElement(ia.a,null,"Confirm"),n.createElement(ca.a,null,n.createElement(sa.a,null,n.createElement(Y.a,{id:"Settings.DeleteDialogBody"}),n.createElement("br",null),n.createElement(Y.a,{id:"Settings.DeleteDialogBody2"}),n.createElement("br",null),"26"===a?"26 Rootage":"27"===a?"27 HEROIC VERSE":"Songs Database")),n.createElement(ua.a,null,n.createElement(K.a,{onClick:this.handleClose,color:"secondary"},"Cancel"),n.createElement(K.a,{onClick:this.handleOk,color:"secondary",autoFocus:!0},"Continue"))))}}]),t}(n.Component),fa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleOpen=function(){var e=Object(Ce.a)(ke.a.mark((function e(t,n){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.setState({isOpen:!a.state.isOpen,currentSongData:n?n.songData:null,currentScoreData:n?n.scoreData:null}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.cloneState=function(){return JSON.parse(JSON.stringify(a.state))},a.handleChangePage=function(e,t){return a.props.handleChangePage(t)},a.handleChangeRowsPerPage=function(e){return a.props.handleChangeRowsPerPage(e.target.value)},a.state={isOpen:!1,currentSongData:null,currentScoreData:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.currentScoreData,r=t.currentSongData,l=t.isOpen,o=this.props,i=o.full,c=o.isLoading,s=o.page,u=o.rowsPerPage,m=o.changeSort,d=o.sort,p=o.isDesc,h=[{id:"difficultyLevel",label:"\u2606"},{id:"title",label:"\u66f2\u540d"},{id:"exScore",label:"S"},{id:"compareData",label:"W"}];return c?n.createElement(fe.a,{className:"loaderCentered"},n.createElement(tt.a,null)):n.createElement(mt.a,{style:{width:"100%",overflowX:"auto"}},n.createElement("div",null,n.createElement(dt.a,null,n.createElement(gt.a,null,n.createElement(vt.a,null,h.map((function(e,t){return n.createElement(ht.a,{key:e.id,onClick:function(){return m(t)}},e.label,t===d&&n.createElement("span",null,p&&n.createElement("span",null,"\u25bc"),!p&&n.createElement("span",null,"\u25b2")),t!==d&&n.createElement("span",null,"\u25b3"))})))),n.createElement(pt.a,null,i.slice(s*u,s*u+u).map((function(t,a){return n.createElement(vt.a,{onClick:function(){return e.handleOpen(!1,t)},hover:!0,role:"checkbox",tabIndex:-1,key:t.title,className:a%2?"isOdd":"isEven"},h.map((function(e,a){var r="hyper"===t.difficulty?"(H)":"leggendaria"===t.difficulty?"(\u2020)":"";return n.createElement(ht.a,{key:e.id+r,style:{backgroundColor:Gt(a,t.scoreData),position:"relative"}},t[e.id],1===a&&r,3===a&&n.createElement("span",{className:"plusOverlayScore"},t.gap))})))}))))),n.createElement(ft.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:i.length,rowsPerPage:u,page:s,labelRowsPerPage:"",backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),l&&n.createElement(Ft,{isOpen:l,song:r,score:a,handleOpen:this.handleOpen}))}}]),t}(n.Component),va=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e)))._mounted=!1,a.handleLevelChange=function(e){return function(t){a.handleExec(e,t.target.checked,"level")}},a.handleDiffChange=function(e){return function(t){a.handleExec(e,t.target.checked,"difficulty")}},a.handlePMChange=function(e){return function(t){a.handleExec(e,t.target.checked,"pm")}},a.handleExec=function(e,t,n){var r=a.state;return t?r.options[n].push(e):r.options[n]=r.options[n].filter((function(t){return t!==e})),a.setState({options:r.options}),a.filter()},a.changeSort=function(e){var t=a.state,n=t.sort,r=t.isDesc;if(n===e)return a.setState({isDesc:!r});a.setState({sort:e,isDesc:!0})},a.handleCompareFromChange=function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t.target.value){e.next=2;break}return e.abrupt("return");case 2:return(n=a.cloneState()).compareFrom=t.target.value,a.setState({compareFrom:t.target.value,isLoading:!0}),e.abrupt("return",a.dataHandler(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleCompareToChange=function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t.target.value){e.next=2;break}return e.abrupt("return");case 2:return(n=a.cloneState()).compareTo=t.target.value,a.setState({compareTo:t.target.value,isLoading:!0}),e.abrupt("return",a.dataHandler(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.filter=function(){var e=a.state,t=e.options,n=e.full,r=["hyper","another","leggendaria"];return n.filter((function(e){return t.level.some((function(t){return t===e.difficultyLevel}))&&t.difficulty.some((function(t){return r[Number(t)]===e.difficulty}))}))},a.sortedData=function(){var e=a.state,t=e.isDesc,n=e.sort,r=a.filter().sort((function(e,t){switch(n){case 0:return Number(t.difficultyLevel)-Number(e.difficultyLevel);case 1:return t.title.localeCompare(e.title,"ja",{numeric:!0});default:case 2:return t.exScore-e.exScore;case 3:return t.gap-e.gap}})).filter((function(e){var t=a.state.options.pm;return-1===t.indexOf("+")&&t.indexOf("-")>-1?e.gap<=0:t.indexOf("+")>-1&&-1===t.indexOf("-")?e.gap>0:t.indexOf("+")>-1&&t.indexOf("-")>-1}));return t?r.reverse():r},a.cloneState=function(){return JSON.parse(JSON.stringify(a.state))},a.handleChangePage=function(e){return a.setState({page:e})},a.handleChangeRowsPerPage=function(e){return a.setState({page:0,rowsPerPage:+e})},a.state={isLoading:!0,full:[],filtered:[],sort:3,isDesc:!0,options:{level:["11","12"],difficulty:["0","1","2"],pm:["+","-"]},filterByName:"",compareFrom:"27",compareTo:"26",page:0,rowsPerPage:10},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._mounted=!0,this.dataHandler();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"dataHandler",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n,r,l,o,i,c,s,u,m,d,p,h,g,f=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:this.state,a=[],n=t.compareFrom,r=t.compareTo,l=je(),o=new ze(l,n),i=new Ze,c=new qe,e.next=10,o.getSpecificVersionAll();case 10:s=e.sent,u=He(),m=Me(),d=0;case 13:if(!(d<s.length)){e.next=38;break}return p=0,e.next=17,o.getItem(s[d].title,s[d].difficulty,r,l);case 17:if(h=e.sent,!l){e.next=24;break}return e.next=21,i.getOneItemIsSingle(s[d].title,s[d].difficulty);case 21:e.t0=e.sent,e.next=27;break;case 24:return e.next=26,i.getOneItemIsDouble(s[d].title,s[d].difficulty);case 26:e.t0=e.sent;case 27:g=e.t0,c.setData(2*g[0].notes,g[0].avg,g[0].wr),p=h&&0!==h.length?h[0].exScore:0,"WR"===r&&(p=g[0].wr),"AVERAGE"===r&&(p=g[0].avg),"BPI"===r&&(p=c.calcFromBPI(u,!0)),"PERCENTAGE"===r&&(p=Math.ceil(2*g[0].notes*m/100)),a.push({title:s[d].title,songData:g[0],scoreData:s[d],difficulty:s[d].difficulty,difficultyLevel:s[d].difficultyLevel,exScore:s[d].exScore,compareData:p,gap:s[d].exScore-p});case 35:++d,e.next=13;break;case 38:if(this._mounted){e.next=40;break}return e.abrupt("return");case 40:return e.abrupt("return",this.setState({full:a,isLoading:!1}));case 41:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.compareFrom,a=e.compareTo,r=e.isLoading,l=e.page,o=e.rowsPerPage,i=e.options,c=e.sort,s=e.isDesc;return this.state.full?n.createElement(fe.a,{className:"commonLayout",fixed:!0,id:"songsVil"},n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Compare.Title"})),n.createElement(ve.a,{container:!0,spacing:1,style:{margin:"5px 0"}},n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{style:{width:"100%"}},n.createElement(jt.a,null,n.createElement(Y.a,{id:"Compare.From"})),n.createElement(Nt.a,{value:t,onChange:this.handleCompareFromChange},n.createElement(Ot.a,{value:"26"},"26 Rootage"),n.createElement(Ot.a,{value:"27"},"27 HEROIC VERSE")))),n.createElement(ve.a,{item:!0,xs:6},n.createElement(rt.a,{style:{width:"100%"}},n.createElement(jt.a,null,n.createElement(Y.a,{id:"Compare.To"})),n.createElement(Nt.a,{value:a,onChange:this.handleCompareToChange},n.createElement(Ot.a,{value:"26"},"26 Rootage"),n.createElement(Ot.a,{value:"27"},"27 HEROIC VERSE"),n.createElement(Ot.a,{value:"WR"},"WORLD RECORD"),n.createElement(Ot.a,{value:"AVERAGE"},"KAIDEN AVERAGE"),n.createElement(Ot.a,{value:"BPI"},"TARGET BPI"),n.createElement(Ot.a,{value:"PERCENTAGE"},"TARGET PERCENTAGE"))))),n.createElement(ve.a,{container:!0,spacing:1,id:"mainFilters",style:{margin:"5px 0"}},n.createElement(ve.a,{item:!0,xs:4},n.createElement(rt.a,{component:"fieldset"},n.createElement(nt.a,{component:"legend"},n.createElement(Y.a,{id:"Songs.filterByLevel"})),n.createElement(lt.a,{row:!0},n.createElement(ot.a,{control:n.createElement(it.a,{checked:i.level.some((function(e){return"11"===e})),onChange:this.handleLevelChange("11"),value:"11"}),label:"\u260611"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:i.level.some((function(e){return"12"===e})),onChange:this.handleLevelChange("12"),value:"12"}),label:"\u260612"})))),n.createElement(ve.a,{item:!0,xs:5},n.createElement(rt.a,{component:"fieldset"},n.createElement(nt.a,{component:"legend"},n.createElement(Y.a,{id:"Songs.filterByDifficulty"})),n.createElement(lt.a,{row:!0},n.createElement(ot.a,{control:n.createElement(it.a,{checked:i.difficulty.some((function(e){return"0"===e})),onChange:this.handleDiffChange("0"),value:"hyper"}),label:"H"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:i.difficulty.some((function(e){return"1"===e})),onChange:this.handleDiffChange("1"),value:"another"}),label:"A"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:i.difficulty.some((function(e){return"2"===e})),onChange:this.handleDiffChange("2"),value:"leggendaria"}),label:"\u2020"})))),n.createElement(ve.a,{item:!0,xs:3},n.createElement(rt.a,{component:"fieldset"},n.createElement(nt.a,{component:"legend"},n.createElement(Y.a,{id:"Compare.filterByPlusMinus"})),n.createElement(lt.a,{row:!0},n.createElement(ot.a,{control:n.createElement(it.a,{checked:i.pm.some((function(e){return"+"===e})),onChange:this.handlePMChange("+"),value:"+"}),label:"+"}),n.createElement(ot.a,{control:n.createElement(it.a,{checked:i.pm.some((function(e){return"-"===e})),onChange:this.handlePMChange("-"),value:"-"}),label:"-"}))))),n.createElement(fa,{full:this.sortedData(),isLoading:r,page:l,rowsPerPage:o,sort:c,isDesc:s,changeSort:this.changeSort,handleChangeRowsPerPage:this.handleChangeRowsPerPage,handleChangePage:this.handleChangePage})):null}}]),t}(n.Component),Ea=a(67),ba=a.n(Ea),ya=a(699),Sa=a(691),wa=a(692),Da=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(fe.a,{className:"commonLayout",fixed:!0},n.createElement(h.a,{component:"h5",variant:"h5",color:"textPrimary",gutterBottom:!0},n.createElement(Y.a,{id:"Help.title"})),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,n.createElement(Y.a,{id:"Help.AboutThisSite"}))),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement(Y.a,{id:"Help.A.1"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.A.2"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.A.3"})))),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,n.createElement(Y.a,{id:"Help.Functions"}))),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement(Y.a,{id:"Help.B.1"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.B.2"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.B.3"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.B.4"}),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(Y.a,{id:"Help.B.5"})))),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,n.createElement(Y.a,{id:"Help.HowToUse"}))),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement(Y.a,{id:"Help.C.1"}),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(Y.a,{id:"Help.C.2"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.C.3"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.C.4"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.C.5"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.C.6"}),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(Y.a,{id:"Help.C.7"}),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(Y.a,{id:"Help.C.8"})))),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,n.createElement(Y.a,{id:"Help.Settings"}))),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement(Y.a,{id:"Help.D.1"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.D.2"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.D.3"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.D.4"})))),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,n.createElement(Y.a,{id:"Help.Contact"}))),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement(Y.a,{id:"Help.E.1"})))),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,n.createElement(Y.a,{id:"Help.Requirements"}))),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement(Y.a,{id:"Help.F.1"}),n.createElement(w.a,{style:{margin:"10px 0"}}),n.createElement(Y.a,{id:"Help.F.2"}),n.createElement("br",null),n.createElement(Y.a,{id:"Help.F.3"})))),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,n.createElement(Y.a,{id:"Help.Licenses"}))),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement(w.a,{style:{margin:"10px 0"}}),"material-ui : Copyright (c) 2014 Call-Em-All ",n.createElement("a",{href:"https://opensource.org/licenses/mit-license.php",target:"_blank",rel:"noreferrer noopener"},"The MIT License (MIT)"),n.createElement("br",null),"Dexie.js : Copyright (c) dfahlander ",n.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",rel:"noreferrer noopener"},"Apache License"),n.createElement("br",null),"fast-deep-equal : Copyright (c) epoberezkin MIT",n.createElement("br",null),"moment,moment-timezone : Copyright (c) JS Foundation and other contributors MIT",n.createElement("br",null),"react : Copyright (c) Facebook MIT",n.createElement("br",null),"react-dom : Copyright (c) 2017 Tylor Steinberger MIT",n.createElement("br",null),"react-router : Copyright (c) React Training 2016-2018 MIT",n.createElement("br",null),"react-intl : Copyright (c) Yahoo! BSD License",n.createElement("br",null),"recharts : Copyright (c) recharts MIT",n.createElement("br",null),"typescript : Copyright (c) Microsoft Apache License",n.createElement("br",null),"unstated : Copyright (c) 2018-present James Kyle MIT",n.createElement("br",null)))),n.createElement(ya.a,null,n.createElement(Sa.a,{expandIcon:n.createElement(ba.a,null)},n.createElement(h.a,null,"Updates")),n.createElement(wa.a,null,n.createElement(h.a,{display:"block"},n.createElement("p",null,"2019/11/08 : v0.0.0.4 \u76ee\u6a19BPI,\u30d1\u30fc\u30bb\u30f3\u30c6\u30fc\u30b8\u6a5f\u80fd\u8ffd\u52a0\u3001DP\u5bfe\u5fdc(\u03b2\u7248)\u3001\u672a\u30d7\u30ec\u30a4\u697d\u66f2\u7d5e\u308a\u8fbc\u307f\u306b\u95a2\u3059\u308b\u30d0\u30b0\u3092\u4fee\u6b63"),n.createElement("p",null,"2019/11/07 : v0.0.0.3 \u30c7\u30fc\u30bf\u30ea\u30bb\u30c3\u30c8\u6a5f\u80fd\u306e\u8ffd\u52a0,\u5b9a\u7fa9\u30c7\u30fc\u30bf\u66f4\u65b0\u306e\u51e6\u7406\u3092\u5909\u66f4,\u7d5e\u308a\u8fbc\u307f\u6761\u4ef6\u5909\u66f4\u6642\u306b\u30c6\u30fc\u30d6\u30eb\u30921\u30da\u30fc\u30b8\u76ee\u306b\u623b\u3059\u3088\u3046\u306b\u3057\u305f,\u4f8b\u5916\u51e6\u7406\u8af8\u3005,\u3068\u304b"),n.createElement("p",null,"2019/11/06 : v0.0.0.2 \u30c0\u30fc\u30af\u30c6\u30fc\u30de\u306e\u8ffd\u52a0\u3001\u30b7\u30a7\u30a2\u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e(\u30b7\u30a7\u30a2\u304a\u9858\u3044\u3057\u307e\u3059!)"),n.createElement("p",null,"2019/11/06 : v0.0.0.1 \u516c\u958b\u3057\u305f"))))))}}]),t}(n.Component),xa={"Top.Title":"BPIManager","GlobalNav.Home":"\u30db\u30fc\u30e0","GlobalNav.Data":"\u30c7\u30fc\u30bf","GlobalNav.FavoriteSongs":"\u304a\u6c17\u306b\u5165\u308a\u697d\u66f2","GlobalNav.SongList":"\u697d\u66f2\u4e00\u89a7","GlobalNav.unregisteredSongs":"\u672a\u30d7\u30ec\u30a4\u697d\u66f2","GlobalNav.Statistics":"\u7d71\u8a08","GlobalNav.compare":"\u30b9\u30b3\u30a2\u6bd4\u8f03","GlobalNav.Settings":"\u8a2d\u5b9a","GlobalNav.Help":"\u8aac\u660e\u66f8","Index.heroText":"Web\u4e0a\u3067beatmania IIDX\u306e\u30b9\u30b3\u30a2\u3092\u7ba1\u7406\u3057\u3001BPI\u3068\u3057\u3066\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002","Index.importButton":"\u4f7f\u3063\u3066\u307f\u308b","Index.helpButton":"\u30d8\u30eb\u30d7\u3092\u8aad\u3080","Index.notes1":"beatmania\u306f\u682a\u5f0f\u4f1a\u793e\u30b3\u30ca\u30df\u30c7\u30b8\u30bf\u30eb\u30a8\u30f3\u30bf\u30c6\u30a4\u30f3\u30e1\u30f3\u30c8\u306e\u767b\u9332\u5546\u6a19\u3067\u3059\u3002","Index.notes2":"\u672c\u30c4\u30fc\u30eb\u306fnorimiso\u69d8\u8003\u6848\u306eBPI\u304a\u3088\u3073ZUBU\u69d8\u5236\u4f5c\u306eBPICL\u306e\u305d\u308c\u305e\u308c\u306b\u30a4\u30f3\u30b9\u30d1\u30a4\u30a2\u3055\u308c\u3066\u5236\u4f5c\u3055\u308c\u307e\u3057\u305f\u3002","Data.add":"\u30b9\u30b3\u30a2\u306e\u30a4\u30f3\u30dd\u30fc\u30c8","Data.infoBulk":"e-AMUSEMENT\u30d7\u30ec\u30df\u30a2\u30e0\u30b3\u30fc\u30b9\u306b\u52a0\u5165\u6e08\u307f\u306e\u5834\u5408\u3001CSV\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u8fbc\u3080\u3053\u3068\u3067\u5168\u3066\u306e\u66f2\u30c7\u30fc\u30bf\u3092\u4e00\u62ec\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u307e\u3059\u3002","Data.howToBulk1":" ","Data.CSVURL":"\u3053\u3061\u3089","Data.howToBulk2":"\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u6848\u5185\u306b\u5f93\u3063\u3066\u8868\u793a\u3055\u308c\u305fCSV\u30c7\u30fc\u30bf\uff08\u30c6\u30ad\u30b9\u30c8\u5f62\u5f0f\uff09\u3092\u4e0b\u306e\u30dc\u30c3\u30af\u30b9\u306b\u30b3\u30d4\u30fc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Data.Execute":"\u53d6\u308a\u8fbc\u307f\u5b9f\u884c","Data.notPremium1":"\u30d7\u30ec\u30df\u30a2\u30e0\u30b3\u30fc\u30b9\u306b\u52a0\u5165\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u73fe\u6bb5\u968e\u3067\u306f\u500b\u5225\u306b\u66f2\u30c7\u30fc\u30bf\u3092\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","Data.Success":"\u30a4\u30f3\u30dd\u30fc\u30c8\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002","Data.Failed":"\u30a4\u30f3\u30dd\u30fc\u30c8\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","Data.edit":"\u30b9\u30b3\u30a2\u306e\u624b\u52d5\u5165\u529b","Data.howToEdit":"\u5404\u697d\u66f2\u306e\u8a73\u7d30\u8868\u793a\u753b\u9762\u3067\u30b9\u30b3\u30a2\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u304c\u624b\u9806\u3067\u3059:","Data.howToEdit1":"\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300c\u672a\u30d7\u30ec\u30a4\u697d\u66f2\u300d\u30da\u30fc\u30b8\u3078\u79fb\u52d5\u3057\u3001\u66f2\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306b\u30b9\u30b3\u30a2\u3092\u66f4\u65b0\u3057\u305f\u3044\u697d\u66f2\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Data.howToEdit2":"\u691c\u7d22\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u76ee\u7684\u306e\u697d\u66f2\u540d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Data.howToEdit3":"\u697d\u66f2\u8a73\u7d30\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u66f4\u65b0\u5f8c\u306e\u30b9\u30b3\u30a2\u3092\u5165\u529b\u3057\u3001\u4fdd\u5b58\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Data.howToEdit4":"That's all!","Songs.title":"\u697d\u66f2\u30c7\u30fc\u30bf","Songs.filterByLevel":"\u30ec\u30d9\u30eb","Songs.filterByDifficulty":"\u96e3\u6613\u5ea6","Songs.detailedFilter":"\u8a73\u7d30\u6761\u4ef6","Songs.filterByName":"\u66f2\u540d\u3067\u7d5e\u308a\u8fbc\u307f","Songs.filterByFavorite":"\u304a\u6c17\u306b\u5165\u308a\u66f2","Songs.mode":"\u30e2\u30fc\u30c9\u9078\u629e","Songs.mode0":"BPI\u8a70\u3081","Songs.mode1":"A\u72d9\u3044","Songs.mode2":"AA\u72d9\u3044","Songs.mode3":"AAA\u72d9\u3044","Songs.mode4":"MAX\u72d9\u3044","Songs.mode5":"HARD CLEAR\u72d9\u3044","Songs.mode6":"EX-HARD CLEAR\u72d9\u3044","Songs.mode7":"FULLCOMBO\u72d9\u3044","Songs.legend":"\u51e1\u4f8b\u304a\u3088\u3073\u4f7f\u7528\u65b9\u6cd5\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30d8\u30eb\u30d7\u3092\u8868\u793a\u3057\u3066\u304f\u3060\u3055\u3044","Songs.updatedToday":"\u672c\u65e5\u66f4\u65b0\u5206\u306e\u307f\u8868\u793a","Details.SaveButton":"\u4fdd\u5b58","Details.typeNewScore":"\u3042\u306a\u305f\u306e\u81ea\u5df1\u30d9\u30b9\u30c8","Details.FavButton":"\u304a\u6c17\u306b\u5165\u308a","Details.FavButtonRemove":"\u304a\u6c17\u306b\u5165\u308a\u89e3\u9664","Details.FavButtonRemoved":"\u304a\u6c17\u306b\u5165\u308a\u304b\u3089\u524a\u9664\u3057\u307e\u3057\u305f\u3002","Details.FavButtonAdded":"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u3057\u307e\u3057\u305f\u3002","Details.Graph":"\u30b0\u30e9\u30d5","Details.Details":"\u8a73\u7d30","Details.Diffs":"\u5dee\u5206","Details.ErrorIIDXInfo":"IIDXInfo\u306f\u260612\u697d\u66f2\u3067\u306e\u307f\u5229\u7528\u3067\u304d\u307e\u3059\u3002","Common.Tweet":"\u30c4\u30a4\u30fc\u30c8","SongDetail.SongDetailHead":"\u697d\u66f2","SongDetail.Notes":"\u30ce\u30fc\u30c8\u6570","SongDetail.WorldRecord":"\u5168\u4e00","SongDetail.Average":"\u7686\u4f1d\u5e73\u5747","SongDetail.You":"\u3042\u306a\u305f","SongDetail.Version":"\u30d0\u30fc\u30b8\u30e7\u30f3","SongDetail.ScoreDetailHead":"\u30d7\u30ec\u30a4\u72b6\u614b","SongDetail.ClearState":"\u30e9\u30f3\u30d7","SongDetail.MissCount":"\u30df\u30b9\u30ab\u30a6\u30f3\u30c8","SongDetail.LastPlayed":"\u6700\u7d42\u30d7\u30ec\u30a4","SongDetail.ScoreDetails":"\u8a73\u7d30","SongDiffs.Target":"\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8","SongDiffs.WithinSameVersion":"\u540c\u4e00\u30d0\u30fc\u30b8\u30e7\u30f3\u5185","SongDiffs.EachVersion":"\u30d0\u30fc\u30b8\u30e7\u30f3\u9593","Favorites.Title":"\u304a\u6c17\u306b\u5165\u308a","NotPlayed.Title":"\u672a\u30d7\u30ec\u30a4\u697d\u66f2","Stats.title":"\u7d71\u8a08\u30c7\u30fc\u30bf","Stats.TotalBPI":"\u7dcf\u5408BPI","Stats.EachDay":"\u65e5\u5225\u66f4\u65b0\u6570/\u5e73\u5747BPI","Stats.UpdatedSongs":"\u66f4\u65b0\u3057\u305f\u697d\u66f2","Stats.UpdatedSum":"\u66f4\u65b0\u4ef6\u6570","Stats.Average":"\u5e73\u5747BPI","Stats.LethalWeapon":"\u6b66\u5668\u66f2","Stats.PossibleToGetBetter":"\u4f38\u3073\u305d\u3046\u306a\u66f2","Stats.Distribution":"\u30ec\u30d9\u30eb\u5225BPI\u5206\u5e03","Compare.Title":"\u30c7\u30fc\u30bf\u6bd4\u8f03","Compare.From":"\u6bd4\u8f03\u5143","Compare.To":"\u6bd4\u8f03\u5148","Compare.filterByPlusMinus":"\u8868\u793a\u5bfe\u8c61","Settings.title":"\u8a2d\u5b9a","Settings.language":"\u8a00\u8a9e","Settings.theme":"\u30c6\u30fc\u30de","Settings.dataStore":"\u30d0\u30fc\u30b8\u30e7\u30f3","Settings.delete":"\u30c7\u30fc\u30bf\u306e\u30ea\u30bb\u30c3\u30c8","Settings.noteLang":"UI\u306b\u7528\u3044\u308b\u8a00\u8a9e\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Settings.noteMes1":"\u904e\u53bb\u4f5c\u30b9\u30b3\u30a2\u3092\u767b\u9332\u3059\u308b\u3053\u3068\u3067\u3001\u6700\u65b0\u4f5c\u3068\u306e\u30c7\u30fc\u30bf\u6bd4\u8f03\u304c\u53ef\u80fd\u3067\u3059\u3002","Settings.inaccurateMes":"\u904e\u53bb\u4f5c\u306e\u30b9\u30b3\u30a2\u3082\u4eca\u73fe\u5728\u306e\u6700\u65b0\u51681,\u5e73\u5747\u30b9\u30b3\u30a2\u3067BPI\u304c\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002\u53c2\u8003\u7a0b\u5ea6\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Settings.Update":"\u66f4\u65b0","Settings.UpdateResourcePacks":"\u5b9a\u7fa9\u30c7\u30fc\u30bf\u306e\u66f4\u65b0","Settings.currentVersion":"\u73fe\u5728\u306e\u5b9a\u7fa9\u30d0\u30fc\u30b8\u30e7\u30f3:","Settings.updateWarning":"\u66f4\u65b0\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002","Settings.dataClear":"\u30c7\u30fc\u30bf\u30ea\u30bb\u30c3\u30c8","Settings.DPMode":"DP\u30e2\u30fc\u30c9","Settings.dpDescription":"\u30aa\u30f3\u306b\u3059\u308b\u3053\u3068\u3067DP\u306e\u30b9\u30b3\u30a2\u3092\u767b\u9332\u3067\u304d\u307e\u3059\u3002","Help.title":"\u8aac\u660e\u66f8","Help.AboutThisSite":"\u3053\u306e\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066","Help.A.1":"BPIManager\u306f\u3001ZUBU\u69d8\u5236\u4f5c\u306eBPICL\u306e\u30af\u30ed\u30fc\u30f3\u3068\u3057\u3066\u958b\u767a\u3055\u308c\u305f\u3001\u260611\u304a\u3088\u3073\u260612\u306eBPI\u30b9\u30b3\u30a2\u3092\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002","Help.A.2":"\u672c\u5bb6BPICL\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u6a5f\u80fd\u3092\u3067\u304d\u308b\u9650\u308a\u518d\u73fe\u3057\u3064\u3064\u3001\u3088\u308a\u30b9\u30b3\u30a2\u8a70\u3081\u304c\u6357\u308b\u3088\u3046\u306a\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u6a5f\u80fd\u3092\u76db\u308a\u8fbc\u3080\u3053\u3068\u3092\u76ee\u6a19\u3068\u3057\u3066\u3044\u307e\u3059\u3002","Help.A.3":"\u672c\u30c4\u30fc\u30eb\u306f\u3001\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306e\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u60f3\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002","Help.Functions":"\u6a5f\u80fd\u306b\u3064\u3044\u3066","Help.B.1":"BPIManager\u3067\u3067\u304d\u308b\u3053\u3068\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002","Help.B.2":"\u30fb\u260611\u304a\u3088\u3073\u260612\u306e\u697d\u66f2\u306e\u30b9\u30b3\u30a2\u30fbBPI\u30fb\u305d\u306e\u4ed6\u8af8\u3005\u306e\u4fdd\u5b58\u30fb\u8868\u793a","Help.B.3":"\u30fb\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u307e\u305f\u3044\u3060\u30b9\u30b3\u30a2\u306e\u6bd4\u8f03\u3001\u51681\u3084\u7686\u4f1d\u5e73\u5747\u3068\u306e\u70b9\u5dee\u8868\u793a","Help.B.4":"\u30fb\u65e5\u5225\u5e73\u5747BPI\u3084BPI\u5206\u5e03\u8868\u793a\u3068\u3044\u3063\u305f\u7d71\u8a08\u60c5\u5831\u306e\u8868\u793a","Help.B.5":"\u8ffd\u52a0\u3067\u3053\u3093\u306a\u6a5f\u80fd\u304c\u6b32\u3057\u3044\uff01\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308c\u3070\u3001\u53ef\u80fd\u306a\u9650\u308a\u5b9f\u73fe\u3057\u305f\u3044\u306e\u3067\u662f\u975e\u304a\u6559\u3048\u304f\u3060\u3055\u3044\u3002","Help.HowToUse":"\u4f7f\u3044\u65b9","Help.C.1":"\u30e1\u30cb\u30e5\u30fc\u300c\u30c7\u30fc\u30bf\u300d\u3088\u308a\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089CSV\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u304b\u3001\u300c\u672a\u30d7\u30ec\u30a4\u697d\u66f2\u300d\u3088\u308a\u5404\u697d\u66f2\u306e\u30b9\u30b3\u30a2\u3092\u500b\u5225\u306b\u767b\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","Help.C.2":"\u30b9\u30b3\u30a2\u767b\u9332\u6e08\u307f\u697d\u66f2\u306e\u30c7\u30fc\u30bf\u306f\u30e1\u30cb\u30e5\u30fc\u300c\u697d\u66f2\u4e00\u89a7\u300d\u3088\u308a\u3054\u89a7\u3044\u305f\u3060\u3051\u307e\u3059\u3002\u697d\u66f2\u30bf\u30a4\u30c8\u30eb\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30b0\u30e9\u30d5\u3084\u8a73\u7d30\u30c7\u30fc\u30bf\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","Help.C.3":"\u30fb\u300c\u30b0\u30e9\u30d5\u300d\u30bf\u30d6\u3067\u306f\u3001\u5404BPI\u306b\u5bfe\u5fdc\u3059\u308bEX\u30b9\u30b3\u30a2\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","Help.C.4":"\u30fb\u300c\u8a73\u7d30\u300d\u30bf\u30d6\u3067\u306f\u3001\u30d7\u30ec\u30a4\u30c7\u30fc\u30bf\u3084\u697d\u66f2\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","Help.C.5":"\u30fb\u300c\u5dee\u5206\u300d\u30bf\u30d6\u3067\u306f\u3001\u904e\u53bb\u4f5c\u306b\u304a\u3051\u308b\u305d\u306e\u697d\u66f2\u306e\u30b9\u30b3\u30a2\u3084\u3001\u5f53\u8a72\u4f5c\u54c1\u5185\u306b\u304a\u3051\u308b\u30cf\u30a4\u30b9\u30b3\u30a2\u306e\u9077\u79fb\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","Help.C.6":"\u30fb\u7c98\u7740\u3057\u305f\u3044\uff01\u30e9\u30a4\u30d0\u30eb\u306b\u629c\u304b\u3055\u308c\u305f\u304b\u3089\u30e1\u30e2\u3057\u3066\u304a\u304d\u305f\u3044\uff01\u3068\u3044\u3063\u305f\u66f2\u306f\u3001\u661f\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u3067\u304d\u307e\u3059\u3002\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u3055\u308c\u305f\u697d\u66f2\u306f\u3001\u30e1\u30cb\u30e5\u30fc\u300c\u304a\u6c17\u306b\u5165\u308a\u300d\u3067\u4e00\u89a7\u8868\u793a\u3067\u304d\u307e\u3059\u3002","Help.C.7":"\u30e1\u30cb\u30e5\u30fc\u300c\u672a\u30d7\u30ec\u30a4\u697d\u66f2\u300d\u304b\u3089\u3001\u5f53\u8a72\u4f5c\u54c1\u5185\u306b\u304a\u3044\u3066\u307e\u3060\u30d7\u30ec\u30a4\u3057\u3066\u3044\u306a\u3044\u697d\u66f2\u3092\u4e00\u89a7\u8868\u793a\u3067\u304d\u307e\u3059\u3002","Help.C.8":"\u30e1\u30cb\u30e5\u30fc\u300c\u30b9\u30b3\u30a2\u6bd4\u8f03\u300d\u3067\u306f\u3001\u4f5c\u54c1\u9593\u30b9\u30b3\u30a2\u306e\u6bd4\u8f03\u3084\u3001\u51681\u3001\u7686\u4f1d\u5e73\u5747\u3068\u3044\u3063\u305f\u30b9\u30b3\u30a2\u3068\u306e\u70b9\u6570\u5dee\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","Help.Settings":"\u8a2d\u5b9a\u306b\u3064\u3044\u3066","Help.D.1":"\u30e1\u30cb\u30e5\u30fc\u300c\u8a2d\u5b9a\u300d\u3088\u308a\u3001\u672c\u30c4\u30fc\u30eb\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002","Help.D.2":"\u300c\u8a00\u8a9e\u300d\u3088\u308a\u3001\u30c4\u30fc\u30eb\u5185\u306e\u8868\u793a\u8a00\u8a9e\u3092\u5909\u66f4\u3067\u304d\u307e\u3059\u3002","Help.D.3":"\u300c\u30d0\u30fc\u30b8\u30e7\u30f3\u300d\u3088\u308a\u3001\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u5148\u3092\u5909\u66f4\u53ef\u80fd\u3067\u3059\u3002\u73fe\u72b6\u300126 Rootage\u306827 HEROIC VERSE\u306e\u307f\u767b\u9332\u53ef\u80fd\u3067\u3059\u304c\u3001\u65b0\u4f5c\u7a3c\u50cd\u6642\u306b\u306f\u9806\u6b21\u8ffd\u52a0\u4e88\u5b9a\u3067\u3059\u3002","Help.D.4":"\u300c\u66f4\u65b0\u300d\u3088\u308a\u3001\u30c4\u30fc\u30eb\u5185\u3067\u4f7f\u7528\u3057\u3066\u3044\u308b\u51681\u3001\u7686\u4f1d\u5e73\u5747\u306a\u3069\u306e\u30b9\u30b3\u30a2\u30c7\u30fc\u30bf\u3092\u66f4\u65b0\u3067\u304d\u307e\u3059\u3002\u5b9a\u7fa9\u30c7\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u95a2\u3057\u3066\u306f\u5225\u9014\u8a18\u8ff0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Help.Contact":"\u304a\u554f\u5408\u305b\u5148","Help.E.1":"\u672c\u30c4\u30fc\u30eb\u306b\u304a\u3044\u3066\u30d0\u30b0\u3092\u767a\u898b\u3057\u305f\u308a\u3001\u8981\u671b\u30fb\u82e6\u60c5\u30fb\u305d\u306e\u4ed6\u8af8\u3005\u304c\u3042\u308b\u5834\u5408\u3001Twitter(@BPIManager)\u307e\u3067\u304a\u6c17\u8efd\u306b\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002","Help.Requirements":"\u52d5\u4f5c\u8981\u4ef6","Help.F.1":"\u672c\u30c4\u30fc\u30eb\u306f\u3001\u4ee5\u4e0b\u306e\u74b0\u5883\u4e0b\u306b\u304a\u3044\u3066\u52d5\u4f5c\u3092\u4e88\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002","Help.F.2":"IndexedDB\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308b\u74b0\u5883\uff08\u30e2\u30c0\u30f3\u30d6\u30e9\u30a6\u30b6+\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30e2\u30fc\u30c9\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068)","Help.F.3":"fetch API\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308b\u74b0\u5883","Help.Licenses":"\u30e9\u30a4\u30bb\u30f3\u30b9\u8868\u8a18","Settings.resetWarning":"\u5bfe\u8c61\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u5168\u524a\u9664\u3057\u307e\u3059\u3002\u3053\u306e\u64cd\u4f5c\u3092\u3082\u3068\u306b\u623b\u3059\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002","Settings.DeleteExec":"\u524a\u9664","Settings.DeleteDialogBody":"\u3042\u306a\u305f\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u30c7\u30fc\u30bf\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002","Settings.DeleteDialogBody2":"\u3053\u306e\u64cd\u4f5c\u3092\u5dfb\u304d\u623b\u3059\u3053\u3068\u306f\u6c7a\u3057\u3066\u3067\u304d\u307e\u305b\u3093\u3002\u6b21\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u524a\u9664\u3057\u3066\u3082\u672c\u5f53\u306b\u3088\u308d\u3057\u3044\u3067\u3059\u304b:","Settings.MyGoalBPI":"\u76ee\u6a19BPI","Settings.MyGoalPercentage":"\u76ee\u6a19\u30d1\u30fc\u30bb\u30f3\u30c6\u30fc\u30b8","Settings.MyGoalDescription":"\u3053\u308c\u3089\u306e\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u300c\u30c7\u30fc\u30bf\u6bd4\u8f03\u300d\u753b\u9762\u306b\u3066\u5f53\u8a72BPI/\u30d1\u30fc\u30bb\u30f3\u30c6\u30fc\u30b8\u306b\u8a72\u5f53\u3059\u308bEX\u30b9\u30b3\u30a2\u3092\u6bd4\u8f03\u5bfe\u8c61\u3068\u3057\u3066\u9078\u629e\u3067\u304d\u307e\u3059\u3002"},ka={"Top.Title":"BPIManager","GlobalNav.Home":"Home","GlobalNav.Data":"Data","GlobalNav.FavoriteSongs":"Favorite Songs","GlobalNav.SongList":"Songs","GlobalNav.unregisteredSongs":"Not played yet","GlobalNav.Statistics":"Statistics","GlobalNav.compare":"Compare","GlobalNav.Settings":"Settings","GlobalNav.Help":"Help","Index.heroText":"Easily manage your scores of beatmania IIDX and visualize as BPI, in Web.","Index.importButton":"Try it out!","Index.helpButton":"Read documents","Index.notes1":"beatmania is the trademark registered by Konami Degital Entertainment Co., Ltd.","Index.notes2":"This tool was affected by both of BPI which was invented by norimiso and BPICL which was released by ZUBU.","Data.add":"Import score data","Data.infoBulk":"If you've been subscribed to e-AMUSEMENT Premium Course, you can import all your scores in bulk by importing CSV from official IIDX website.","Data.howToBulk1":"Just access ","Data.CSVURL":"HERE","Data.howToBulk2":", copy displayed text and then paste it to form shown below.","Data.Execute":"Import","Data.notPremium1":"If you cannot use the way above, so please fill each songs in individually.","Data.Success":"Successfully imported.","Data.Failed":"Failed to import scores.","Data.edit":"Edit scores on your own","Data.howToEdit":"You can edit the score of each songs by detailed song information screen.","Data.howToEdit1":'Access to "songs not done yet" page and search by the song name you want to edit.',"Data.howToEdit2":"Search results will be shown, then click the song name.","Data.howToEdit3":"You can see detailed song information screen. Type your score and press save button.","Data.howToEdit4":"That's all!","Songs.title":"Songs","Songs.filterByLevel":"Level","Songs.filterByDifficulty":"Difficulty","Songs.detailedFilter":"Configure","Songs.filterByName":"Filter by song title","Songs.filterByFavorite":"Favorited","Songs.mode":"Aiming for...","Songs.mode0":"Higher BPI","Songs.mode1":"new A","Songs.mode2":"new AA","Songs.mode3":"new AAA","Songs.mode4":"new MAX","Songs.mode5":"new HARD CLEAR","Songs.mode6":"new EX-HARD CLEAR","Songs.mode7":"new FULLCOMBO","Songs.legend":"To see legends and usage, click here and go to help","Songs.updatedToday":"Only displays the scores updated today","Details.SaveButton":"Save","Details.typeNewScore":"My Record","Details.FavButton":"Favorite","Details.FavButtonRemove":"Delete favorite","Details.FavButtonRemoved":"Successfully deleted.","Details.FavButtonAdded":"Successfully added.","Details.Graph":"Graph","Details.Details":"Details","Details.Diffs":"Diffs","Details.ErrorIIDXInfo":"IIDXInfo is only available for level-12.","Common.Tweet":"Tweet","SongDetail.SongDetailHead":"Song","SongDetail.Notes":"Notes","SongDetail.WorldRecord":"World Record","SongDetail.Average":"Average","SongDetail.You":"You","SongDetail.Version":"Version","SongDetail.ScoreDetailHead":"Play Status","SongDiffs.Target":"Datasets","SongDiffs.WithinSameVersion":"Within the same version","SongDiffs.EachVersion":"Across versions","SongDetail.ClearState":"Clear State","SongDetail.MissCount":"Miss Count","SongDetail.LastPlayed":"Last Played","SongDetail.ScoreDetails":"Detail","Favorites.Title":"Favorites","NotPlayed.Title":"Not Played yet","Stats.title":"Statistics","Stats.TotalBPI":"Total BPI","Stats.EachDay":"Total and BPI per day","Stats.UpdatedSongs":"New records","Stats.UpdatedSum":"The total of updated songs","Stats.Average":"Average BPI","Stats.PossibleToGetBetter":"Songs Possible to Get better","Stats.Distribution":"BPI Distributions by Lv.","Compare.Title":"Compare","Compare.From":"Data source","Compare.To":"Compare with","Compare.filterByPlusMinus":"P/M","Settings.title":"Settings","Settings.language":"Language","Settings.dataStore":"Version","Settings.delete":"Delete all data","Settings.theme":"Theme","Settings.dataClear":"Clear database","Settings.DPMode":"Double Play Mode","Settings.dpDescription":"When turning on this function you can register double play scores.","Settings.noteLang":"Select language you want to use. Please contribute to improve the quality of translation.(contact @BPIManager)","Settings.noteMes1":"Registering scores in older IIDX makes you able to compare them across versions.","Settings.inaccurateMes":"Please note that since BPI in older IIDX versions will also be calculated with the latest WR and average scores so they would be rather inaccurate than them at the time.","Settings.Update":"Update","Settings.UpdateResourcePacks":"Update definition file","Settings.currentVersion":"Current version of the definition data:","Settings.updateWarning":"This process may take a few minutes.","Help.title":"Documents","Help.AboutThisSite":"About this site","Help.A.1":"BPIManager is a tool developed as a clone of BPICL(which has been released from ZUBU), which enables users to manage their scores of IIDX, especially Lv11 and Lv12.","Help.A.2":"The development goal of this tool is to add unique functions which helps facilitate breaking records, after cloning functions of BPICL as possible.","Help.A.3":"*This tool is intended for being added on home screen on smartphones.","Help.Functions":"About functions","Help.B.1":"By using BPIManager users can do as follows:","Help.B.2":"1. Saving and checking scores, BPI and etc. of Lv11 and Lv12 songs.","Help.B.3":"2. Comparing scores across/within versions or with either World record or Kaiden average.","Help.B.4":"3. Showing statistics like BPIs average per day or BPI distributions.","Help.B.5":"If you want any other functions please feel free to contact me.","Help.HowToUse":"How to use","Help.C.1":'To add scores in bulk please go to "Data" and import CSV from official IIDX website, or go to "Not played yet" and save scores individually.',"Help.C.2":'Scores already saved can be checked in "Songs". By clicking song title you can check graphs, details and so on.',"Help.C.3":'1. In "Graph" tab you can see EXScores corresponding to each BPIs.',"Help.C.4":'2. In "Details" tab you can check your own play data and information about the song.',"Help.C.5":'3. In "Diffs" tab, the scores of the song in the past series and the transitions of the your best score in the current version will be displayed.',"Help.C.6":'4. Songs you need to remember can be registered as favorites by clicking the star icon. Songs favorited can be checked in "Favorites".',"Help.C.7":'In "Not played yet" the list of songs which haven\'t been played in the current version will be displayed.',"Help.C.8":'In "Compare", you can compare scores between series, or with World record or Kaiden average.',"Help.Settings":"About configure","Help.D.1":'In "Settings" you can change configures in this tool.',"Help.D.2":'By changing "Language" you can change the language which will be used in this tool.',"Help.D.3":'By changing "Version" you can change the destination of save data. Currently only 26 Rootage and 27 HEROIC VERSE available.',"Help.D.4":'By Clicking "Update definition file" you can update the definition data such as World records, Kaiden averages, etc. Please refer to the description for updating definition data.',"Help.Contact":"Contact","Help.E.1":"If you found bugs or have requests,complaint or anything else please contact me(@BPIManager).","Help.Requirements":"Requirements","Help.F.1":"To use this tool you have to satisfy the conditions below.","Help.F.2":"IndexedDB available","Help.F.3":"fetch API available","Help.Licenses":"Licenses","Settings.resetWarning":"Delete all data stored in the selected database. WARNING: BE AWARE THAT THIS ACTION CANNOT BE UNDONE.","Settings.DeleteExec":"Execute","Settings.DeleteDialogBody":"You are about to delete all scores stored in the selected database.","Settings.DeleteDialogBody2":"This action cannot be undone. Really do you want to continue to delete this data :","Settings.MyGoalBPI":"Target BPI","Settings.MyGoalPercentage":"Target Percentage","Settings.MyGoalDescription":"Setting values above makes it possible to compare with EX score corresponding to them in Compare screen. "},Ca=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.createElement(ta.b,null,n.createElement(ta.c,{to:[aa]},(function(e){return n.createElement(ge.a,{locale:e.state.lang,messages:"ja"===e.state.lang?xa:ka},n.createElement(m.a,null,n.createElement(he,{global:e}),n.createElement(Ht.a,{path:"/",exact:!0,component:De}),n.createElement(Ht.a,{path:"/data",exact:!0,render:function(t){return n.createElement(at,{global:e})}}),n.createElement(Ht.a,{path:"/songs",exact:!0,component:qt}),n.createElement(Ht.a,{path:"/favorite",exact:!0,component:Kt}),n.createElement(Ht.a,{path:"/notPlayed",exact:!0,component:Qt}),n.createElement(Ht.a,{path:"/stats",exact:!0,component:ea}),n.createElement(Ht.a,{path:"/compare",exact:!0,component:va}),n.createElement(Ht.a,{path:"/settings",exact:!0,render:function(t){return n.createElement(ha,{global:e})}}),n.createElement(Ht.a,{path:"/help",exact:!0,component:Da})))})))}}]),t}(n.Component),Oa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).storage=void 0,a.songsDB=void 0,a.wait=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new Promise((function(t){setTimeout(t,e)}))},a.storage=new Qe,a.songsDB=new Ze,a.state={show:!0,error:!1,errorMessage:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ce.a)(ke.a.mark((function e(){var t,a,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.songsDB.getAll();case 3:if(!(e.sent.length>0)){e.next=6;break}return e.abrupt("return",this.setState({show:!1}));case 6:return t=Ae(0),e.next=9,fetch("https://files.poyashi.me/json/songs.json?t=initialized").then((function(e){return e.json()}));case 9:a=e.sent,n=0;case 11:if(!(n<a.body.length)){e.next=18;break}return e.next=14,this.songsDB.setItem(Object.assign(a.body[n],{isFavorited:!1,isCreated:!1,updatedAt:t}));case 14:this.wait(3);case 15:++n,e.next=11;break;case 18:return localStorage.setItem("isSingle","1"),localStorage.setItem("lastDefFileVer",a.version),e.abrupt("return",this.setState({show:!1}));case 23:return e.prev=23,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",this.setState({error:!0,errorMessage:e.t0.message||"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u305f\u3081\u7d9a\u884c\u3067\u304d\u307e\u305b\u3093\u3002"}));case 27:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.show?this.state.error?n.createElement("div",{id:"overlayLayout"},n.createElement("div",null,n.createElement(oe.a,null)),n.createElement("div",null,n.createElement("p",null,this.state.errorMessage))):n.createElement("div",{id:"overlayLayout"},n.createElement("div",null,n.createElement(tt.a,null)),n.createElement("div",null,n.createElement("p",null,"Loading essential components..."))):null}}]),t}(n.Component),Pa=a(693),Ia=a(694),Ba=a(328),Aa=Object(Ba.a)({palette:{type:"dark",primary:{50:"#dedede",100:"#808080",200:"#5e5e5e",300:"#4b4b4b",400:"#434343",500:"#3a3a3a",600:"#2d2d2d",700:"#272727",800:"#1c1c1c",900:"#111111",A100:"#cecece",A200:"#949494",A400:"#6f6f6f",A700:"#4c4c4c"},secondary:{50:"#d0e0e3",100:"#a2c4c9",200:"#76a5af",300:"#648c95",400:"#45818e",500:"#396872",600:"#2a5059",700:"#23434a",800:"#1f353a",900:"#0c343d",A100:"#a2c4c9",A200:"#76a5af",A400:"#45818e",A700:"#205966"}},breakpoints:{keys:["xs","sm","md","lg","xl"],values:{xs:360,sm:768,md:992,lg:1400,xl:1800}},overrides:{MuiButton:{root:{textTransform:"none"}}}}),ja=Object(Ba.a)({palette:{type:"light",primary:{50:"#dedede",100:"#808080",200:"#5e5e5e",300:"#4b4b4b",400:"#434343",500:"#3a3a3a",600:"#2d2d2d",700:"#272727",800:"#1c1c1c",900:"#111111",A100:"#cecece",A200:"#949494",A400:"#6f6f6f",A700:"#4c4c4c"},secondary:{50:"#d0e0e3",100:"#a2c4c9",200:"#76a5af",300:"#648c95",400:"#45818e",500:"#396872",600:"#2a5059",700:"#23434a",800:"#1f353a",900:"#0c343d",A100:"#a2c4c9",A200:"#76a5af",A400:"#45818e",A700:"#205966"}},breakpoints:{keys:["xs","sm","md","lg","xl"],values:{xs:360,sm:768,md:992,lg:1400,xl:1800}},overrides:{MuiButton:{root:{textTransform:"none"}}}}),Na=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1},a.onUpdate=function(){window.location.reload(!0)},a.handleClose=function(){a.setState({show:!1})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("newContentAvailable",(function(){e.setState({show:!0})}))}},{key:"render",value:function(){var e=this.state.show;return e?r.a.createElement("div",null,r.a.createElement(Et.a,{open:e},r.a.createElement(ia.a,{id:"alert-dialog-title"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u66f4\u65b0"),r.a.createElement(ca.a,null,r.a.createElement(sa.a,{id:"alert-dialog-description"},"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u66f4\u65b0\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u3059\u3002",r.a.createElement("br",null),"\u4eca\u3059\u3050\u66f4\u65b0\u3057\u307e\u3059\u304b\uff1f")),r.a.createElement(ua.a,null,r.a.createElement(K.a,{onClick:this.handleClose,color:"primary"},"\u7121\u8996"),r.a.createElement(K.a,{onClick:this.onUpdate,color:"primary",autoFocus:!0},"\u66f4\u65b0")))):null}}]),t}(n.Component);var La=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ta(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){if("installed"===a.state)if(navigator.serviceWorker.controller){console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.");var n=new Event("newContentAvailable");window.dispatchEvent(n),t&&t.onUpdate&&t.onUpdate(e)}else console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.render(n.createElement((function(){return document.title="BPI Manager",n.createElement(ta.b,null,n.createElement(ta.c,{to:[aa]},(function(e){return n.createElement(Pa.a,{theme:"dark"===e.state.theme?Aa:ja},n.createElement(Ia.a,null),n.createElement(Oa,null),n.createElement("div",{id:"dark"===e.state.theme?"__dark":"__light"},n.createElement(Ca,null)),n.createElement(Na,null))})))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");La?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ta(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ta(t,e)}))}}()}},[[373,1,2]]]);
//# sourceMappingURL=main.03728df5.chunk.js.map